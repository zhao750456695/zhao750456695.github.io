<!DOCTYPE html>
<html>
    <!-- title -->





<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" >
    <meta name="description" content="">
    <title>pandas part1 · FinGeek</title>
    <style type="text/css">
    @font-face {
        font-family: 'Oswald-Regular';
        src: url("/font/Oswald-Regular.ttf");
    }

    body {
        margin: 0;
    }

    header,
    footer,
    .back-top,
    .sidebar,
    .container,
    .site-intro-meta,
    .toc-wrapper {
        display: none;
    }

    .site-intro {
        position: relative;
        z-index: 3;
        width: 100%;
        /* height: 50vh; */
        overflow: hidden;
    }

    .site-intro-placeholder {
        position: absolute;
        z-index: -2;
        top: 0;
        left: 0;
        width: calc(100% + 300px);
        height: 100%;
        background: repeating-linear-gradient(-45deg, #444 0, #444 80px, #333 80px, #333 160px);
        background-position: center center;
        transform: translate3d(-226px, 0, 0);
        animation: gradient-move 2.5s ease-out 0s 1;
    }

    @keyframes gradient-move {
        0% {
            transform: translate3d(-226px, 0, 0);
        }
        100% {
            transform: translate3d(0, 0, 0);
        }
    }

</style>

    <link rel="preload" href= /css/style.css?v=20180317 as="style" onload="this.onload=null;this.rel='stylesheet'">
    <link rel="stylesheet" type="text/css" href= /css/mobile.css?v=20180317 media="(max-width: 980px)"/>
    
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        
    <link rel="icon" href= /assets/favicon.ico>
    <script>
        (function (w) {
            "use strict";
            // rel=preload support test
            if (!w.loadCSS) {
                w.loadCSS = function () { };
            }
            // define on the loadCSS obj
            var rp = loadCSS.relpreload = {};
            // rel=preload feature support test
            // runs once and returns a function for compat purposes
            rp.support = (function () {
                var ret;
                try {
                    ret = w.document.createElement("link").relList.supports("preload");
                } catch (e) {
                    ret = false;
                }
                return function () {
                    return ret;
                };
            })();

            // if preload isn't supported, get an asynchronous load by using a non-matching media attribute
            // then change that media back to its intended value on load
            rp.bindMediaToggle = function (link) {
                // remember existing media attr for ultimate state, or default to 'all'
                var finalMedia = link.media || "all";

                function enableStylesheet() {
                    link.media = finalMedia;
                }

                // bind load handlers to enable media
                if (link.addEventListener) {
                    link.addEventListener("load", enableStylesheet);
                } else if (link.attachEvent) {
                    link.attachEvent("onload", enableStylesheet);
                }

                // Set rel and non-applicable media type to start an async request
                // note: timeout allows this to happen async to let rendering continue in IE
                setTimeout(function () {
                    link.rel = "stylesheet";
                    link.media = "only x";
                });
                // also enable media after 3 seconds,
                // which will catch very old browsers (android 2.x, old firefox) that don't support onload on link
                setTimeout(enableStylesheet, 3000);
            };

            // loop through link elements in DOM
            rp.poly = function () {
                // double check this to prevent external calls from running
                if (rp.support()) {
                    return;
                }
                var links = w.document.getElementsByTagName("link");
                for (var i = 0; i < links.length; i++) {
                    var link = links[i];
                    // qualify links to those with rel=preload and as=style attrs
                    if (link.rel === "preload" && link.getAttribute("as") === "style" && !link.getAttribute("data-loadcss")) {
                        // prevent rerunning on link
                        link.setAttribute("data-loadcss", true);
                        // bind listeners to toggle media back
                        rp.bindMediaToggle(link);
                    }
                }
            };

            // if unsupported, run the polyfill
            if (!rp.support()) {
                // run once at least
                rp.poly();

                // rerun poly on an interval until onload
                var run = w.setInterval(rp.poly, 500);
                if (w.addEventListener) {
                    w.addEventListener("load", function () {
                        rp.poly();
                        w.clearInterval(run);
                    });
                } else if (w.attachEvent) {
                    w.attachEvent("onload", function () {
                        rp.poly();
                        w.clearInterval(run);
                    });
                }
            }
            // commonjs
            if (typeof exports !== "undefined") {
                exports.loadCSS = loadCSS;
            }
            else {
                w.loadCSS = loadCSS;
            }
        }(typeof global !== "undefined" ? global : this));
    </script>
    <script src="//cdn.staticfile.org/jquery/3.2.1/jquery.min.js" defer></script>
    <script src="/scripts/main.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js" defer></script>
    <!-- 百度统计  -->
    
    <!-- 谷歌统计  -->
    
</head>

    
        <body class="post-body">
    
    
<header class="header">

    <div class="read-progress"></div>
    <div class="header-sidebar-menu">&#xe775;</div>
    <!-- post页的toggle banner  -->
    
    <div class="banner">
            <div class="blog-title">
                <a href="/" >FinGeek</a>
            </div>
            <div class="post-title">
                <a href="#" class="post-name">pandas part1</a>
            </div>
    </div>
    
    <a class="home-link" href=/>FinGeek</a>
</header>
    <div class="wrapper">
        <div class="site-intro" style=








height:50vh;

>
    
    <!-- 主页  -->
    
    
    <!-- 404页  -->
            
    <div class="site-intro-img" style="background-image: url(/intro/post-bg.jpg)"></div>
    <div class="site-intro-placeholder"></div>
    <div class="site-intro-meta">
        <!-- 标题  -->
        <h1 class="intro-title">
            <!-- 主页  -->
            
            pandas part1
            <!-- 404 -->
            
        </h1>
        <!-- 副标题 -->
        <p class="intro-subtitle">
            <!-- 主页副标题  -->
            
            
            <!-- 404 -->
            
        </p>
        <!-- 文章页meta -->
        
            <!-- 文章页标签  -->
            
                <div class= post-intro-tags >
    
        <a class="post-tag" href="javascript:void(0);" data-tags = "python,pandas,数据分析">python,pandas,数据分析</a>
    
</div>
            
            <div class="post-intro-meta">
                <span class="post-intro-calander iconfont-archer">&#xe676;</span>
                <span class="post-intro-time">2018/04/13</span>
                
                <span id="busuanzi_container_page_pv" class="busuanzi-pv">
                    <span class="iconfont-archer">&#xe602;</span>
                    <span id="busuanzi_value_page_pv"></span>
                </span>
                
                <span class="shareWrapper">
                    <span class="iconfont-archer shareIcon">&#xe71d;</span>
                    <span class="shareText">Share</span>
                    <ul class="shareList">
                        <li class="iconfont-archer share-qr" data-type="qr">&#xe75b;
                            <div class="share-qrcode"></div>
                        </li>
                        <li class="iconfont-archer" data-type="weibo">&#xe619;</li>
                        <li class="iconfont-archer" data-type="qzone">&#xe62e;</li>
                        <li class="iconfont-archer" data-type="twitter">&#xe634;</li>
                        <li class="iconfont-archer" data-type="facebook">&#xe67a;</li>
                    </ul>
                </span>
            </div>
        
    </div>
</div>
        <script>
  // load webfont-loader async, and add callback function
  function async(u, c) {
    var d = document, t = 'script',
      o = d.createElement(t),
      s = d.getElementsByTagName(t)[0];
    o.src = u;
    if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
    s.parentNode.insertBefore(o, s);
  }
  
  // get user agent
  var browser = {
    versions: function () {
      var u = window.navigator.userAgent;
      return {
        userAgent: u,
        trident: u.indexOf('Trident') > -1, //IE内核
        presto: u.indexOf('Presto') > -1, //opera内核
        webKit: u.indexOf('AppleWebKit') > -1, //苹果、谷歌内核
        gecko: u.indexOf('Gecko') > -1 && u.indexOf('KHTML') == -1, //火狐内核
        mobile: !!u.match(/AppleWebKit.*Mobile.*/), //是否为移动终端
        ios: !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/), //ios终端
        android: u.indexOf('Android') > -1 || u.indexOf('Linux') > -1, //android终端或者uc浏览器
        iPhone: u.indexOf('iPhone') > -1 || u.indexOf('Mac') > -1, //是否为iPhone或者安卓QQ浏览器
        iPad: u.indexOf('iPad') > -1, //是否为iPad
        webApp: u.indexOf('Safari') == -1, //是否为web应用程序，没有头部与底部
        weixin: u.indexOf('MicroMessenger') == -1, //是否为微信浏览器
        uc: u.indexOf('UCBrowser') > -1 //是否为android下的UC浏览器
      };
    }()
  }
  console.log("userAgent:" + browser.versions.userAgent);

  // callback
  function fontLoaded() {
    console.log('font loaded');
    if (document.getElementsByClassName('site-intro-meta')) {
      document.getElementsByClassName('intro-title')[0].classList.add('intro-fade-in');
      document.getElementsByClassName('intro-subtitle')[0].classList.add('intro-fade-in');
      var postIntroTags = document.getElementsByClassName('post-intro-tags')[0],
        postIntroMeat = document.getElementsByClassName('post-intro-meta')[0];
      if (postIntroTags) {
        postIntroTags.classList.add('post-fade-in');
      }
      if (postIntroMeat) {
        postIntroMeat.classList.add('post-fade-in');
      }
    }
  }

  // UC不支持跨域，所以直接显示
  function asyncCb(){
    if (browser.versions.uc) {
      console.log("UCBrowser");
      fontLoaded();
    } else {
      WebFont.load({
        custom: {
          families: ['Oswald-Regular']
        },
        loading: function () {  //所有字体开始加载
          // console.log('loading');
        },
        active: function () {  //所有字体已渲染
          fontLoaded();
        },
        inactive: function () { //字体预加载失败，无效字体或浏览器不支持加载
          console.log('inactive: timeout');
          fontLoaded();
        },
        timeout: 5000 // Set the timeout to two seconds
      });
    }
  }

  async("https://cdn.jsdelivr.net/npm/webfontloader@1.6.28/webfontloader.min.js", asyncCb)
</script>        
        <img class="loading" src="/assets/loading.svg" style="display: block; margin: 6rem auto 0 auto; width: 6rem; height: 6rem;" />
        <div class="container container-unloaded">
            <main class="main post-page">
    <article class="article-entry">
        <p>导入pandas</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> pandas <span class="keyword">import</span> Series, DataFrame</span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pd.__version__ <span class="comment"># 查看版本</span></span><br></pre></td></tr></table></figure>
<pre><code>&apos;0.20.3&apos;
</code></pre><h1 id="1-pandas的数据结构"><a href="#1-pandas的数据结构" class="headerlink" title="1 pandas的数据结构"></a>1 pandas的数据结构</h1><p>初始化<br>
索引<br>
取值和切片<br>
赋值和数据修改<br>
简单算术运算<br></p>
<h2 id="1-1-Series构造和初始化"><a href="#1-1-Series构造和初始化" class="headerlink" title="1.1 Series构造和初始化"></a>1.1 Series构造和初始化</h2><p>Series是一种<strong>一维</strong>的数据结构,这是时刻要记住的。<br>
类似于一维数组，但是和一位数组不同，Series是有标签的，即索引。<br>
相对于数组，Series更像是字典，索引值就是key，我们完全可以把Series看成是一个<strong>定长的有序字典</strong>。</p>
<h4 id="1-使用列表创建Series"><a href="#1-使用列表创建Series" class="headerlink" title="1. 使用列表创建Series"></a>1. 使用列表创建Series</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s1 = Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">s1</span><br></pre></td></tr></table></figure>
<pre><code>0    1
1    2
2    3
3    4
4    5
dtype: int64
</code></pre><p>运行结果中左边是索引，右边是值。<br>
由于我们没有指定索引，自动创建了一个0到N-1(N为数据的长度)的整数型索引。<br></p>
<blockquote>
<p>Series对象本质上是一个NumPy的数组，因此NumPy的数组处理函数可以直接对Series进行处理。但是Series除了可以使用位置作为下标存取元素之外，还可以使&gt;用标签下标存取元素，这一点和字典相似。每个Series对象实际上都由两个数组组成：
index: 它是从NumPy数组继承的Index对象，保存标签信息。
values: 保存值的NumPy数组。</p>
</blockquote>
<p>index和values是两个属性，不是函数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s1.values <span class="comment"># 返回的结果是数组形式</span></span><br></pre></td></tr></table></figure>
<pre><code>array([1, 2, 3, 4, 5], dtype=int64)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">s1.index <span class="comment"># 返回的记过是索引对象</span></span><br></pre></td></tr></table></figure>
<pre><code>RangeIndex(start=0, stop=5, step=1)
</code></pre><p>上面s1的索引是自动生成的，我们还可以指定索引。<br>
上面s1的索引是自动生成的，我们还可以指定索引。<br>
上面s1的索引是自动生成的，我们还可以指定索引。<br>
指定索引要用列表。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s2 = Series([<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>])</span><br><span class="line">s2</span><br></pre></td></tr></table></figure>
<pre><code>a    6
b    7
c    8
d    9
dtype: int64
</code></pre><p>s2 = Series([6, 7, 8,], index=[‘a’, ‘b’, ‘c’, ‘d’]) # 列表方式建立Series 索引和值应该是等长的
s2
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">    ---------------------------------------------------------------------------</span><br><span class="line">    </span><br><span class="line">    ValueError                                Traceback (most recent call last)</span><br><span class="line">    </span><br><span class="line">    &lt;ipython-input-23-e00282bc42fe&gt; in &lt;module&gt;()</span><br><span class="line">    ----&gt; 1 s2 = Series([6, 7, 8,], index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;]) # 这种方式建立Series 索引和值应该是等长的</span><br><span class="line">          2 s2</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">   </span><br><span class="line">    </span><br><span class="line">        117     @property</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    ValueError: Wrong number of items passed 3, placement implies 4</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s2 = Series(&#123;&apos;a&apos;:6, &apos;b&apos;:7, &apos;c&apos;:8,&#125;, index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;, &apos;d&apos;]) # 字典建立Series index比key多的话 多余的值被定为NaN</span><br><span class="line">s2</span><br></pre></td></tr></table></figure></p>
<pre><code>a    6.0
b    7.0
c    8.0
d    NaN
dtype: float64
</code></pre><h4 id="2-使用字典创建Series"><a href="#2-使用字典创建Series" class="headerlink" title="2.使用字典创建Series"></a>2.使用字典创建Series</h4><p>#### </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">province = &#123;<span class="string">'山东'</span>: <span class="number">1</span>, <span class="string">'北京'</span>:<span class="number">2</span>, <span class="string">'上海'</span>:<span class="number">3</span>&#125;</span><br><span class="line">s3 = Series(province)</span><br><span class="line">s3</span><br></pre></td></tr></table></figure>
<pre><code>上海    3
北京    2
山东    1
dtype: int64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line"></span><br><span class="line">province2 = [<span class="string">'山东'</span>, <span class="string">'台湾'</span>, <span class="string">'香港'</span>, <span class="string">'北京'</span>, <span class="string">'上海'</span>]</span><br><span class="line">s4 = Series(province, index=province2) <span class="comment"># 上面已经提到一次 字典中找不到的index作为key对应的值，结果将为NaN</span></span><br><span class="line">s4</span><br></pre></td></tr></table></figure>
<pre><code>山东    1.0
台湾    NaN
香港    NaN
北京    2.0
上海    3.0
dtype: float64
</code></pre><p>Series对象本身及索引都有一个name属性</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s4.name = <span class="string">'p'</span></span><br><span class="line">s4.index.name = <span class="string">'pro'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s4</span><br></pre></td></tr></table></figure>
<pre><code>pro
山东    1.0
台湾    NaN
香港    NaN
北京    2.0
上海    3.0
Name: p, dtype: float64
</code></pre><p>可以像字典判断key值一样判断索引：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">'山东'</span> <span class="keyword">in</span> s3</span><br></pre></td></tr></table></figure>
<pre><code>True
</code></pre><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>但用for只能遍历value：
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">for value in s3:</span><br><span class="line">    print(value)</span><br></pre></td></tr></table></figure></p>
<pre><code>3
2
1
</code></pre><h2 id="1-2-DataFrame的构造和初始化"><a href="#1-2-DataFrame的构造和初始化" class="headerlink" title="1.2 DataFrame的构造和初始化"></a>1.2 DataFrame的构造和初始化</h2><p>DataFrame是二维的数据结构。<br>
DataFrame是一个表格型的数据结构，它含有一组有序的列，每列可以是不同的值类型。DataFrame既有行索引，也有列索引。</p>
<h4 id="1-使用一个由等长列表或Numpy数组组成的字典创建DataFrame"><a href="#1-使用一个由等长列表或Numpy数组组成的字典创建DataFrame" class="headerlink" title="1.使用一个由等长列表或Numpy数组组成的字典创建DataFrame"></a>1.使用一个由等长列表或Numpy数组组成的字典创建DataFrame</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;</span><br><span class="line">    <span class="string">'省份'</span>: [<span class="string">'山东省'</span>, <span class="string">'台湾省'</span>, <span class="string">'福建省'</span>, <span class="string">'广东省'</span>, <span class="string">'北京'</span>],</span><br><span class="line">    <span class="string">'年份'</span>: [<span class="string">'2010'</span>, <span class="string">'2011'</span>, <span class="string">'2012'</span>, <span class="string">'2013'</span>, <span class="string">'2014'</span>],</span><br><span class="line">    <span class="string">'人口'</span>: [<span class="string">'5'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'1'</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame = DataFrame(data)</span><br><span class="line">frame</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>人口</th>
      <th>年份</th>
      <th>省份</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>5</td>
      <td>2010</td>
      <td>山东省</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>2011</td>
      <td>台湾省</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>2012</td>
      <td>福建省</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>2013</td>
      <td>广东省</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>2014</td>
      <td>北京</td>
    </tr>
  </tbody>
</table>
</div>



<p>上面各列的顺序创建时是不定的，可以使用参数指定列的顺序：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame = DataFrame(data, columns=[<span class="string">'年份'</span>, <span class="string">'省份'</span>, <span class="string">'人口'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年份</th>
      <th>省份</th>
      <th>人口</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2010</td>
      <td>山东省</td>
      <td>5</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2011</td>
      <td>台湾省</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2012</td>
      <td>福建省</td>
      <td>3</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2013</td>
      <td>广东省</td>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2014</td>
      <td>北京</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>


<p>如果指定的列在数据中找不到，这一列全被定为NaN</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame = DataFrame(data, columns=[<span class="string">'年份'</span>, <span class="string">'省份'</span>, <span class="string">'人口'</span>, <span class="string">'GDP'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年份</th>
      <th>省份</th>
      <th>人口</th>
      <th>GDP</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2010</td>
      <td>山东省</td>
      <td>5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2011</td>
      <td>台湾省</td>
      <td>2</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2012</td>
      <td>福建省</td>
      <td>3</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2013</td>
      <td>广东省</td>
      <td>4</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2014</td>
      <td>北京</td>
      <td>1</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



<p>上面的索引是自动生成的，也可以自己指定索引。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame = DataFrame(data,  columns=[<span class="string">'年份'</span>, <span class="string">'省份'</span>, <span class="string">'人口'</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>年份</th>
      <th>省份</th>
      <th>人口</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>2010</td>
      <td>山东省</td>
      <td>5</td>
    </tr>
    <tr>
      <th>b</th>
      <td>2011</td>
      <td>台湾省</td>
      <td>2</td>
    </tr>
    <tr>
      <th>c</th>
      <td>2012</td>
      <td>福建省</td>
      <td>3</td>
    </tr>
    <tr>
      <th>d</th>
      <td>2013</td>
      <td>广东省</td>
      <td>4</td>
    </tr>
    <tr>
      <th>e</th>
      <td>2014</td>
      <td>北京</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>



<p>index的长度必须和列的长度一致,否则会报错</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame = DataFrame(data,  columns=[<span class="string">'年份'</span>, <span class="string">'省份'</span>, <span class="string">'人口'</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\internals.py in create_block_manager_from_arrays(arrays, names, axes)
   4309         blocks = form_blocks(arrays, names, axes)
-&gt; 4310         mgr = BlockManager(blocks, axes)

   4281 
   4282 


ValueError: Shape of passed values is (3, 5), indices imply (3, 6)
</code></pre><h4 id="2-使用一个由Series组成的字典创建DataFrame"><a href="#2-使用一个由Series组成的字典创建DataFrame" class="headerlink" title="2.使用一个由Series组成的字典创建DataFrame"></a>2.使用一个由Series组成的字典创建DataFrame</h4><p>DataFrame可以看成是Series的组合，每一列是一个Series，可以用Series创建DataFrame。</p>
<p>因为Series是有索引的，因此这种创建方式是基于索引的。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">city = Series([<span class="string">'北京'</span>, <span class="string">'上海'</span>, <span class="string">'广州'</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br><span class="line">pop = Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;</span><br><span class="line">    <span class="string">'city'</span>: city,</span><br><span class="line">    <span class="string">'pop'</span>: pop</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = DataFrame(data)</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>city</th>
      <th>pop</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>北京</td>
      <td>1</td>
    </tr>
    <tr>
      <th>b</th>
      <td>上海</td>
      <td>2</td>
    </tr>
    <tr>
      <th>c</th>
      <td>广州</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">city = Series([<span class="string">'北京'</span>, <span class="string">'上海'</span>, <span class="string">'广州'</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br><span class="line">pop = Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'e'</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data = &#123;</span><br><span class="line">    <span class="string">'city'</span>: city,</span><br><span class="line">    <span class="string">'pop'</span>: pop</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = DataFrame(data)</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>city</th>
      <th>pop</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>北京</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>b</th>
      <td>上海</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>c</th>
      <td>广州</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>e</th>
      <td>NaN</td>
      <td>3.0</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = DataFrame(data, index=[<span class="number">2001</span>, <span class="number">2002</span>, <span class="number">2003</span>])</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>city</th>
      <th>pop</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2001</th>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2003</th>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">city = Series([<span class="string">'北京'</span>, <span class="string">'上海'</span>, <span class="string">'广州'</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])</span><br><span class="line">pop = Series([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'e'</span>])</span><br><span class="line">data = &#123;</span><br><span class="line">    <span class="string">'city'</span>: city,</span><br><span class="line">    <span class="string">'pop'</span>: pop</span><br><span class="line">&#125;</span><br><span class="line">df = DataFrame(data)</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>city</th>
      <th>pop</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>北京</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>b</th>
      <td>上海</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>c</th>
      <td>广州</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>e</th>
      <td>NaN</td>
      <td>3.0</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'city'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>a     北京
b     上海
c     广州
e    NaN
Name: city, dtype: object
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">df[<span class="string">'pop'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>a    1.0
b    2.0
c    NaN
e    3.0
Name: pop, dtype: float64
</code></pre><p><strong>可以看出，dataframe中每一列都是相同索引的Series，它们组成了dataframe，正是同一个索引对象，使它们是同一个dataframe，这index对象也是它们的标识</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">city = Series([&apos;北京&apos;, &apos;上海&apos;, &apos;广州&apos;], index=[&apos;a&apos;, &apos;b&apos;, &apos;c&apos;])</span><br><span class="line">pop = Series([1, 2, 3], index=[&apos;a&apos;, &apos;b&apos;, &apos;e&apos;])</span><br><span class="line">data = &#123;</span><br><span class="line">    &apos;city&apos;: city,</span><br><span class="line">    &apos;pop&apos;: pop</span><br><span class="line">&#125;</span><br><span class="line">df = DataFrame(data, index=[&apos;a&apos;, &apos;g&apos;])</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">	city	pop</span><br><span class="line">a	北京	1.0</span><br><span class="line">g	NaN	NaN</span><br></pre></td></tr></table></figure>
<p>index可以任意指定，但是匹配不到data中series的index的话，就认定为nan</p>
<p>因此series中一定要指定index，否则会默认0、1、2….的index，再在 DataFrame(data, index=[‘a’, ‘g’])中指定自己想要的index，匹配不到全是NaN</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">city = Series([&apos;北京&apos;, &apos;上海&apos;, &apos;广州&apos;], )</span><br><span class="line">pop = Series([1, 2, 3], )</span><br><span class="line">data = &#123;</span><br><span class="line">    &apos;city&apos;: city,</span><br><span class="line">    &apos;pop&apos;: pop</span><br><span class="line">&#125;</span><br><span class="line">df = DataFrame(data)</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">	city	pop</span><br><span class="line">0	北京	1</span><br><span class="line">1	上海	2</span><br><span class="line">2	广州	3</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df = DataFrame(data, index=[0, 1])</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">	city	pop</span><br><span class="line">0	北京	1</span><br><span class="line">1	上海	2</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df = DataFrame(data, index=[&apos;a&apos;, &apos;g&apos;])</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">	city	pop</span><br><span class="line">a	NaN	NaN</span><br><span class="line">g	NaN	NaN</span><br></pre></td></tr></table></figure>
<h4 id="3-嵌套字典"><a href="#3-嵌套字典" class="headerlink" title="3.嵌套字典"></a>3.嵌套字典</h4><p>嵌套字典，会把外层字典的键作为列，内层键则作为行索引：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pop = &#123;<span class="string">'山东省'</span>: &#123;<span class="number">2001</span>: <span class="number">1</span>, <span class="number">2002</span>: <span class="number">2</span>&#125;, <span class="string">'广东省'</span>: &#123;<span class="number">2000</span>: <span class="number">1.5</span>, <span class="number">2001</span>: <span class="number">3</span>&#125;&#125;</span><br><span class="line">df = DataFrame(pop)</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>山东省</th>
      <th>广东省</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2000</th>
      <td>NaN</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>1.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>2.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



<h4 id="4-由列表或元组组成的列表"><a href="#4-由列表或元组组成的列表" class="headerlink" title="4.由列表或元组组成的列表"></a>4.由列表或元组组成的列表</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data = [[<span class="string">'山东'</span>, <span class="string">'广东'</span>], [<span class="number">1</span>, <span class="number">2</span>]]</span><br><span class="line">df = DataFrame(data)</span><br><span class="line">df</span><br><span class="line"><span class="comment"># 行列索引均是自动生成 因为既没有指定index 也没有指定columns</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>山东</td>
      <td>广东</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
</div>



<p>还有其他可以输入给DataFrame构造器的数据</p>
<h2 id="1-3-索引对象"><a href="#1-3-索引对象" class="headerlink" title="1.3 索引对象"></a>1.3 索引对象</h2><p>DataFrame既有行索引，也有列索引 列索引即是列名 行索引即是index</p>
<p>介绍上面除创建Series和DataFrame时涉及到的索引知识之外的其他索引相关情况。<br>
Index是个对象<br>
创建Index对象的好处是可以复用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pop = &#123;<span class="string">'山东省'</span>: &#123;<span class="number">2001</span>: <span class="number">1</span>, <span class="number">2002</span>: <span class="number">2</span>&#125;, <span class="string">'广东省'</span>: &#123;<span class="number">2000</span>: <span class="number">1.5</span>, <span class="number">2001</span>: <span class="number">3</span>&#125;&#125;</span><br><span class="line">df = DataFrame(pop)</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>山东省</th>
      <th>广东省</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2000</th>
      <td>NaN</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>1.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>2.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.index</span><br></pre></td></tr></table></figure>
<pre><code>Int64Index([2000, 2001, 2002], dtype=&apos;int64&apos;)
</code></pre><p>Index对象是ndarray的派生类，values属性可以获得ndarray数组：
Index对象是ndarray的派生类，values属性可以获得ndarray数组：
Index对象是ndarray的派生类，values属性可以获得ndarray数组：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.index.values</span><br></pre></td></tr></table></figure>
<pre><code>array([2000, 2001, 2002], dtype=int64)
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">s4.index.values</span><br><span class="line">print(list(s4.index.values))</span><br></pre></td></tr></table></figure></p>
<pre><code>[&apos;山东&apos;, &apos;台湾&apos;, &apos;香港&apos;, &apos;北京&apos;, &apos;上海&apos;]
</code></pre><p>Index支持所有的数组下标操作：
Index支持所有的数组下标操作：</p>
<p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index = df.index</span><br></pre></td></tr></table></figure></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(index[[<span class="number">1</span>, <span class="number">2</span>]])</span><br><span class="line">print(index[index &gt; <span class="number">2001</span>])</span><br><span class="line">print(index[<span class="number">1</span>::<span class="number">2</span>])</span><br></pre></td></tr></table></figure>
<pre><code>Int64Index([2001, 2002], dtype=&apos;int64&apos;)
Int64Index([2002], dtype=&apos;int64&apos;)
Int64Index([2001], dtype=&apos;int64&apos;)
</code></pre><p>Index对象不可以修改，用户不能对其修改：
Index对象不可以修改，用户不能对其修改：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">index = df.index</span><br><span class="line">print(index)</span><br></pre></td></tr></table></figure>
<pre><code>Int64Index([2000, 2001, 2002], dtype=&apos;int64&apos;)
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">index[<span class="number">1</span>]</span><br></pre></td></tr></table></figure></p>
<pre><code>2001
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index[<span class="number">1</span>]=<span class="number">2001</span> <span class="comment"># Int64Index([2000, 2001, 2002], dtype='int64')是不可改的，想对位置1上的元素重新赋值，会报错的，即使赋的值是原值</span></span><br></pre></td></tr></table></figure></p>
<pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

&lt;ipython-input-167-a141cb1da108&gt; in &lt;module&gt;()
----&gt; 1 index[1]=2001 # Int64Index([1, 2, 3], dtype=&apos;int64&apos;)是不可改的，想对位置1上的元素重新赋值，会报错的，即使赋的值是原值


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in __setitem__(self, key, value)
   1668 
   1669     def __setitem__(self, key, value):
-&gt; 1670         raise TypeError(&quot;Index does not support mutable operations&quot;)
   1671 
   1672     def __getitem__(self, key):


TypeError: Index does not support mutable operations
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">df.index = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>] <span class="comment"># index重新指向另外一个同等大小的数组 并没有改Int64Index([2000, 2001, 2002], dtype='int64') 而是重新指向了Int64Index([1, 2, 3], dtype='int64')</span></span><br><span class="line">df</span><br></pre></td></tr></table></figure></p>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>山东省</th>
      <th>广东省</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



<p>index返回的是一个不可变的数组，也就是数组里面的数据是不可变的</p>
<p>但是可以改变的是index重新指向另外一个同等大小的数组，也就是index是一个指针，指针指向的数组里面的内容是不可变的，但是指针指向的数组是可变的。</p>
<p>不可修改性非常重要，这样才能使Index对象在多个数据结构之间安全共享：</p>
<p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">index = pd.Index(np.arange(<span class="number">3</span>))</span><br><span class="line">s5 = Series([<span class="number">1</span>, <span class="number">2</span> , <span class="number">3</span>], index=index)</span><br><span class="line"></span><br><span class="line">s5.index <span class="keyword">is</span> index</span><br></pre></td></tr></table></figure></p>
<pre><code>True
</code></pre><h4 id="set-index"><a href="#set-index" class="headerlink" title="set_index"></a>set_index</h4><h4 id="set-index-1"><a href="#set-index-1" class="headerlink" title="set_index"></a>set_index</h4><h4 id="set-index-2"><a href="#set-index-2" class="headerlink" title="set_index"></a>set_index</h4><p>set_index 会返回一个新的df
DataFrame可以通过set_index方法，设置单索引和复合索引。&lt;br>
DataFrame.set_index(keys, drop=True, append=False, <strong>inplace=False</strong>, verify_integrity=False)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ndf = df.set_index(<span class="string">'山东省'</span>)</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>山东省</th>
      <th>广东省</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2000</th>
      <td>NaN</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>1.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>2.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ndf</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>广东省</th>
    </tr>
    <tr>
      <th>山东省</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>NaN</th>
      <td>1.5</td>
    </tr>
    <tr>
      <th>1.0</th>
      <td>3.0</td>
    </tr>
    <tr>
      <th>2.0</th>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.set_index(<span class="string">'山东省'</span>, inplace=<span class="keyword">True</span>)</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>广东省</th>
    </tr>
    <tr>
      <th>山东省</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>NaN</th>
      <td>1.5</td>
    </tr>
    <tr>
      <th>1.0</th>
      <td>3.0</td>
    </tr>
    <tr>
      <th>2.0</th>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



<h4 id="reset-index"><a href="#reset-index" class="headerlink" title="reset_index"></a>reset_index</h4><p>reset_index可以还原索引，重新变为默认的整型索引&lt;br>
DataFrame.reset_index(level=None, drop=False, <strong>inplace=False</strong>, col_level=0, col_fill=”)&lt;br>
level控制了具体要还原的那个等级的索引
drop为False则索引列会被还原为普通列，否则会丢失</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.reset_index() <span class="comment"># 也是返回一个新的df 要想在原df上生效 使用inplace=True</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>山东省</th>
      <th>广东省</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>NaN</td>
      <td>1.5</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1.0</td>
      <td>3.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>广东省</th>
    </tr>
    <tr>
      <th>山东省</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>NaN</th>
      <td>1.5</td>
    </tr>
    <tr>
      <th>1.0</th>
      <td>3.0</td>
    </tr>
    <tr>
      <th>2.0</th>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



<h4 id="reindex"><a href="#reindex" class="headerlink" title="reindex"></a>reindex</h4><p>重新索引<br>
既可用于Series，也可用于DataFrame</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">frame = DataFrame(np.arange(<span class="number">9</span>).reshape((<span class="number">3</span>,<span class="number">3</span>)), columns=[<span class="string">'b'</span>, <span class="string">'a'</span>, <span class="string">'c'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>a</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6</td>
      <td>7</td>
      <td>8</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.reindex(columns=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>]) <span class="comment"># 重排列索引</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4</td>
      <td>3</td>
      <td>5</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7</td>
      <td>6</td>
      <td>8</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.reindex([<span class="number">0</span>, <span class="number">1</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]) <span class="comment"># 如果某个新索引值当前不存在，就引入缺失值</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>a</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>a</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>b</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>c</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



<p>对于时间序列这样的有序数据，重新索引时可能需要做一些插值处理。method选项可达到次目的</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj6 = Series([<span class="string">'blue'</span>, <span class="string">'purple'</span>, <span class="string">'yellow'</span>], index=[<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj6.reindex(range(<span class="number">6</span>))</span><br></pre></td></tr></table></figure>
<pre><code>0      blue
1       NaN
2    purple
3       NaN
4    yellow
5       NaN
dtype: object
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">obj6.reindex(range(<span class="number">6</span>), method=<span class="string">'ffill'</span>)</span><br></pre></td></tr></table></figure></p>
<pre><code>0      blue
1      blue
2    purple
3    purple
4    yellow
5    yellow
dtype: object
</code></pre><p>reindex的（插值）method选项
reindex的（插值）method选项</p>
<table>
<thead>
<tr>
<th style="text-align:center">参数</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">ffill或pad</td>
<td style="text-align:center">前向填充（或搬运）值</td>
</tr>
<tr>
<td style="text-align:center">bfill或backfill</td>
<td style="text-align:center">后向填充（或搬运）值</td>
</tr>
</tbody>
</table>
<p>可以同时对行和列进行重新索引，而插值则只能按行应用(即0轴)</p>
<h4 id="sort-index"><a href="#sort-index" class="headerlink" title="sort_index"></a>sort_index</h4><p>对行和列的索引进行排序使用sort_index函数，返回一个新的对象，若需要按值排序，Series使用order函数，DataFrame使用sort_values函数，排序的时候，缺省值默认是放到末尾的。</p>
<p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame = DataFrame(np.arange(<span class="number">8</span>).reshape(<span class="number">2</span>,<span class="number">4</span>), index=[<span class="number">3</span>, <span class="number">1</span>], columns=[<span class="string">'d'</span>, <span class="string">'b'</span>, <span class="string">'a'</span>, <span class="string">'c'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure></p>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>d</th>
      <th>b</th>
      <th>a</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按照index升序排列</span></span><br><span class="line">In [<span class="number">296</span>]: frame.sort_index()</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>d</th>
      <th>b</th>
      <th>a</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按照column生序排列</span></span><br><span class="line">frame.sort_index(axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>6</td>
      <td>5</td>
      <td>7</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 同时按照行和列排序</span></span><br><span class="line">frame.sort_index(axis=<span class="number">1</span>).sort_index()</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>6</td>
      <td>5</td>
      <td>7</td>
      <td>4</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2</td>
      <td>1</td>
      <td>3</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>



<h4 id="通过索引删除"><a href="#通过索引删除" class="headerlink" title="通过索引删除"></a>通过索引删除</h4><p>drop和dropna</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">frame</span><br><span class="line"><span class="comment"># drop函数，默认参数是行索引，即index</span></span><br><span class="line">frame.drop(<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>a</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>6</td>
      <td>7</td>
      <td>8</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 若删除列，请指定轴方向</span></span><br><span class="line">frame.drop(<span class="string">'b'</span>, axis=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>a</th>
      <th>c</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>1</th>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7</td>
      <td>8</td>
    </tr>
  </tbody>
</table>
</div>



<h4 id="index的方法和属性"><a href="#index的方法和属性" class="headerlink" title="index的方法和属性"></a>index的方法和属性</h4><table>
<thead>
<tr>
<th style="text-align:center">方法</th>
<th style="text-align:center">说明</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">append</td>
<td style="text-align:center">连接另一个index对象，产生一个新的index</td>
</tr>
<tr>
<td style="text-align:center">difference</td>
<td style="text-align:center">计算差集，并得到一个index</td>
</tr>
<tr>
<td style="text-align:center">intersection</td>
<td style="text-align:center">计算交集</td>
</tr>
<tr>
<td style="text-align:center">union</td>
<td style="text-align:center">计算并集</td>
</tr>
<tr>
<td style="text-align:center">Index.isin(values, level=None)</td>
<td style="text-align:center">计算一个指示各值是否都包含在参数集合中的布尔型数组</td>
</tr>
<tr>
<td style="text-align:center">delete</td>
<td style="text-align:center">删除索引值i处的元素，并得到新的Index</td>
</tr>
<tr>
<td style="text-align:center">Index.drop(labels, errors=’raise’)</td>
<td style="text-align:center">删除传入的值，并得到新的Index</td>
</tr>
<tr>
<td style="text-align:center">Index.insert(loc, item)</td>
<td style="text-align:center">将元素插入到索引i处，并得到新的Index</td>
</tr>
<tr>
<td style="text-align:center">is_monotonic</td>
<td style="text-align:center">当各元素均大于等于前一个元素时即索引是单调递增的，返回true</td>
</tr>
<tr>
<td style="text-align:center">is_unique</td>
<td style="text-align:center">当Index没有重复值时，返回true</td>
</tr>
<tr>
<td style="text-align:center">unique()</td>
<td style="text-align:center">计算Index中唯一的数组</td>
</tr>
</tbody>
</table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">index1 = pd.Index(np.arange(<span class="number">5</span>))</span><br><span class="line">index2 = pd.Index(np.arange(<span class="number">8</span>))</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">index1.append(index2)</span><br></pre></td></tr></table></figure>
<pre><code>Int64Index([0, 1, 2, 3, 4, 0, 1, 2, 3, 4, 5, 6, 7], dtype=&apos;int64&apos;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">index1.union(index2)</span><br></pre></td></tr></table></figure>
<pre><code>Int64Index([0, 1, 2, 3, 4, 5, 6, 7], dtype=&apos;int64&apos;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">index1.intersection(index2)</span><br></pre></td></tr></table></figure>
<pre><code>Int64Index([0, 1, 2, 3, 4], dtype=&apos;int64&apos;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">index2.difference(index1)</span><br></pre></td></tr></table></figure>
<pre><code>Int64Index([5, 6, 7], dtype=&apos;int64&apos;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">index2.isin([<span class="number">6</span>, <span class="number">7</span>]) <span class="comment"># 必须传入列表 看各索引值是否在这个列表中</span></span><br></pre></td></tr></table></figure>
<pre><code>array([False, False, False, False, False, False,  True,  True], dtype=bool)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">index2.drop([<span class="number">5</span>, <span class="number">6</span>])</span><br></pre></td></tr></table></figure>
<pre><code>Int64Index([0, 1, 2, 3, 4, 7], dtype=&apos;int64&apos;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">index1.insert(<span class="number">0</span>, <span class="string">'hello'</span>)</span><br></pre></td></tr></table></figure>
<pre><code>Index([&apos;hello&apos;, 0, 1, 2, 3, 4], dtype=&apos;object&apos;)
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">pd.Index([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]).is_monotonic_increasing <span class="comment"># is_monotonic是简写</span></span><br></pre></td></tr></table></figure>
<pre><code>True
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">index2.is_unique</span><br></pre></td></tr></table></figure>
<pre><code>True
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">index2.unique()</span><br></pre></td></tr></table></figure>
<pre><code>Int64Index([0, 1, 2, 3, 4, 5, 6, 7], dtype=&apos;int64&apos;)
</code></pre><h4 id="多层索引"><a href="#多层索引" class="headerlink" title="多层索引"></a>多层索引</h4><h4 id="多层索引-1"><a href="#多层索引-1" class="headerlink" title="多层索引"></a>多层索引</h4><h4 id="多层索引-2"><a href="#多层索引-2" class="headerlink" title="多层索引"></a>多层索引</h4><p>Series和DataFrame都可以有多层索引</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> pandas.util.testing <span class="keyword">as</span> tm</span><br></pre></td></tr></table></figure>
<p><strong>1.创建多层次索引</strong></p>
<p>1) 隐式构造<br>
最常见的方法是给DataFrame构造函数的index参数传递两个或更多的数组</p>
<p>直接在构建DataFrame或Series时，index是多层列表或者是多个array的列表</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cities = tm.np.random.choice([<span class="string">'sh'</span>, <span class="string">'bj'</span>], size=<span class="number">10</span>) <span class="comment"># 构造两个随机的array</span></span><br><span class="line">year = tm.np.random.choice([<span class="number">2001</span>, <span class="number">2002</span>], size=<span class="number">10</span>)</span><br><span class="line">print(cities)</span><br><span class="line">print(year)</span><br></pre></td></tr></table></figure>
<pre><code>[&apos;bj&apos; &apos;bj&apos; &apos;bj&apos; &apos;bj&apos; &apos;sh&apos; &apos;sh&apos; &apos;sh&apos; &apos;sh&apos; &apos;bj&apos; &apos;bj&apos;]
[2001 2001 2001 2002 2002 2001 2001 2002 2001 2002]
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">df = DataFrame(np.random.randint(<span class="number">0</span>, <span class="number">150</span>, size=(<span class="number">10</span>, <span class="number">3</span>)), </span><br><span class="line">              columns=[<span class="string">'pop'</span>, <span class="string">'cars'</span>, <span class="string">'gdp'</span>],</span><br><span class="line">              index=[cities,year]</span><br><span class="line">              )</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>pop</th>
      <th>cars</th>
      <th>gdp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="4" valign="top">bj</th>
      <th>2001</th>
      <td>6</td>
      <td>123</td>
      <td>5</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>132</td>
      <td>15</td>
      <td>35</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>21</td>
      <td>60</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>131</td>
      <td>45</td>
      <td>119</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">sh</th>
      <th>2002</th>
      <td>134</td>
      <td>11</td>
      <td>143</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>111</td>
      <td>89</td>
      <td>68</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>131</td>
      <td>53</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>66</td>
      <td>118</td>
      <td>138</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">bj</th>
      <th>2001</th>
      <td>116</td>
      <td>32</td>
      <td>71</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>53</td>
      <td>123</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tindex = [(<span class="string">'California'</span>, <span class="number">2000</span>), (<span class="string">'California'</span>, <span class="number">2010</span>), </span><br><span class="line">(<span class="string">'New York'</span>, <span class="number">2000</span>), (<span class="string">'New York'</span>, <span class="number">2010</span>), </span><br><span class="line">(<span class="string">'Texas'</span>, <span class="number">2000</span>), (<span class="string">'Texas'</span>, <span class="number">2010</span>)]</span><br></pre></td></tr></table></figure>
<p>元组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df = DataFrame(np.random.randint(<span class="number">0</span>, <span class="number">150</span>, size=(<span class="number">6</span>, <span class="number">3</span>)), </span><br><span class="line">              columns=[<span class="string">'pop'</span>, <span class="string">'cars'</span>, <span class="string">'gdp'</span>],</span><br><span class="line">              index=tindex</span><br><span class="line">              )</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>pop</th>
      <th>cars</th>
      <th>gdp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>(California, 2000)</th>
      <td>104</td>
      <td>116</td>
      <td>66</td>
    </tr>
    <tr>
      <th>(California, 2010)</th>
      <td>64</td>
      <td>42</td>
      <td>110</td>
    </tr>
    <tr>
      <th>(New York, 2000)</th>
      <td>136</td>
      <td>128</td>
      <td>93</td>
    </tr>
    <tr>
      <th>(New York, 2010)</th>
      <td>51</td>
      <td>78</td>
      <td>122</td>
    </tr>
    <tr>
      <th>(Texas, 2000)</th>
      <td>108</td>
      <td>51</td>
      <td>24</td>
    </tr>
    <tr>
      <th>(Texas, 2010)</th>
      <td>80</td>
      <td>35</td>
      <td>103</td>
    </tr>
  </tbody>
</table>
</div>



<p>2)显示构造</p>
<p>使用pd.MultiIndex</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">index1 = pd.MultiIndex.from_arrays([cities, year], names=[<span class="string">'city'</span>, <span class="string">'year'</span>])</span><br><span class="line">index2 = pd.MultiIndex.from_tuples(tindex, names=[<span class="string">'city'</span>, <span class="string">'year'</span>])</span><br><span class="line">index3 = pd.MultiIndex.from_product([[<span class="string">'bj'</span>, <span class="string">'sh'</span>], [<span class="number">2011</span>, <span class="number">2012</span>, <span class="number">2013</span>]], names=[<span class="string">'city'</span>, <span class="string">'year'</span>]) <span class="comment"># 将列表的第二个元素，分给第一个元素中的每一个元素</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df = DataFrame(np.random.randint(<span class="number">0</span>, <span class="number">150</span>, size=(<span class="number">10</span>, <span class="number">3</span>)), </span><br><span class="line">              columns=[<span class="string">'pop'</span>, <span class="string">'cars'</span>, <span class="string">'gdp'</span>],</span><br><span class="line">              index=index1</span><br><span class="line">              )</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>pop</th>
      <th>cars</th>
      <th>gdp</th>
    </tr>
    <tr>
      <th>city</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="4" valign="top">bj</th>
      <th>2001</th>
      <td>66</td>
      <td>147</td>
      <td>136</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>29</td>
      <td>138</td>
      <td>102</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>78</td>
      <td>71</td>
      <td>73</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>54</td>
      <td>105</td>
      <td>108</td>
    </tr>
    <tr>
      <th rowspan="4" valign="top">sh</th>
      <th>2002</th>
      <td>48</td>
      <td>37</td>
      <td>9</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>137</td>
      <td>44</td>
      <td>79</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>125</td>
      <td>131</td>
      <td>60</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>62</td>
      <td>91</td>
      <td>145</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">bj</th>
      <th>2001</th>
      <td>10</td>
      <td>14</td>
      <td>109</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>114</td>
      <td>94</td>
      <td>140</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df = DataFrame(np.random.randint(<span class="number">0</span>, <span class="number">150</span>, size=(<span class="number">6</span>, <span class="number">3</span>)), </span><br><span class="line">              columns=[<span class="string">'pop'</span>, <span class="string">'cars'</span>, <span class="string">'gdp'</span>],</span><br><span class="line">              index=index2</span><br><span class="line">              )</span><br><span class="line">df  <span class="comment"># 行数要与索引对应起来</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>pop</th>
      <th>cars</th>
      <th>gdp</th>
    </tr>
    <tr>
      <th>city</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">California</th>
      <th>2000</th>
      <td>67</td>
      <td>62</td>
      <td>79</td>
    </tr>
    <tr>
      <th>2010</th>
      <td>46</td>
      <td>65</td>
      <td>94</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">New York</th>
      <th>2000</th>
      <td>81</td>
      <td>76</td>
      <td>107</td>
    </tr>
    <tr>
      <th>2010</th>
      <td>116</td>
      <td>105</td>
      <td>77</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">Texas</th>
      <th>2000</th>
      <td>24</td>
      <td>68</td>
      <td>72</td>
    </tr>
    <tr>
      <th>2010</th>
      <td>59</td>
      <td>122</td>
      <td>105</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df = DataFrame(np.random.randint(<span class="number">0</span>, <span class="number">150</span>, size=(<span class="number">6</span>, <span class="number">3</span>)), </span><br><span class="line">              columns=[<span class="string">'pop'</span>, <span class="string">'cars'</span>, <span class="string">'gdp'</span>],</span><br><span class="line">              index=index3</span><br><span class="line">              )</span><br><span class="line">df</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>pop</th>
      <th>cars</th>
      <th>gdp</th>
    </tr>
    <tr>
      <th>city</th>
      <th>year</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="3" valign="top">bj</th>
      <th>2011</th>
      <td>139</td>
      <td>38</td>
      <td>95</td>
    </tr>
    <tr>
      <th>2012</th>
      <td>0</td>
      <td>113</td>
      <td>51</td>
    </tr>
    <tr>
      <th>2013</th>
      <td>113</td>
      <td>4</td>
      <td>48</td>
    </tr>
    <tr>
      <th rowspan="3" valign="top">sh</th>
      <th>2011</th>
      <td>145</td>
      <td>5</td>
      <td>10</td>
    </tr>
    <tr>
      <th>2012</th>
      <td>144</td>
      <td>94</td>
      <td>131</td>
    </tr>
    <tr>
      <th>2013</th>
      <td>104</td>
      <td>112</td>
      <td>120</td>
    </tr>
  </tbody>
</table>
</div>



<p><strong>多层列索引</strong><br>
将上面的index的操作给columns</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = DataFrame(np.random.randint(<span class="number">0</span>, <span class="number">150</span>, size=(<span class="number">10</span>,<span class="number">6</span>)), index=year, columns=pd.MultiIndex.from_product([[<span class="string">'pop'</span>, <span class="string">'cars'</span>, <span class="string">'gdp'</span>], [<span class="string">'bj'</span>, <span class="string">'sh'</span>]], names=[<span class="string">'c1'</span>, <span class="string">'c2'</span>]))</span><br><span class="line">df  <span class="comment"># 数据的列数要与索引对应起来</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th>c1</th>
      <th colspan="2" halign="left">pop</th>
      <th colspan="2" halign="left">cars</th>
      <th colspan="2" halign="left">gdp</th>
    </tr>
    <tr>
      <th>c2</th>
      <th>bj</th>
      <th>sh</th>
      <th>bj</th>
      <th>sh</th>
      <th>bj</th>
      <th>sh</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2001</th>
      <td>80</td>
      <td>90</td>
      <td>65</td>
      <td>69</td>
      <td>52</td>
      <td>96</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>108</td>
      <td>35</td>
      <td>110</td>
      <td>141</td>
      <td>66</td>
      <td>116</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>73</td>
      <td>34</td>
      <td>139</td>
      <td>40</td>
      <td>57</td>
      <td>13</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>116</td>
      <td>110</td>
      <td>43</td>
      <td>18</td>
      <td>56</td>
      <td>85</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>38</td>
      <td>142</td>
      <td>146</td>
      <td>10</td>
      <td>47</td>
      <td>114</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>124</td>
      <td>80</td>
      <td>105</td>
      <td>49</td>
      <td>6</td>
      <td>24</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>14</td>
      <td>145</td>
      <td>111</td>
      <td>103</td>
      <td>143</td>
      <td>20</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>111</td>
      <td>96</td>
      <td>29</td>
      <td>40</td>
      <td>83</td>
      <td>43</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>7</td>
      <td>105</td>
      <td>134</td>
      <td>130</td>
      <td>93</td>
      <td>14</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>131</td>
      <td>113</td>
      <td>103</td>
      <td>18</td>
      <td>43</td>
      <td>8</td>
    </tr>
  </tbody>
</table>
</div>



<p><strong>2.选取和筛选数据</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'pop'</span>]</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th>c2</th>
      <th>bj</th>
      <th>sh</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>2001</th>
      <td>80</td>
      <td>90</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>108</td>
      <td>35</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>73</td>
      <td>34</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>116</td>
      <td>110</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>38</td>
      <td>142</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>124</td>
      <td>80</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>14</td>
      <td>145</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>111</td>
      <td>96</td>
    </tr>
    <tr>
      <th>2001</th>
      <td>7</td>
      <td>105</td>
    </tr>
    <tr>
      <th>2002</th>
      <td>131</td>
      <td>113</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df[<span class="string">'pop'</span>][<span class="string">'bj'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>2001     80
2001    108
2001     73
2002    116
2002     38
2001    124
2001     14
2002    111
2001      7
2002    131
Name: bj, dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line"><span class="comment">#DataFrame的行和列都是用层次化索引  </span></span><br><span class="line"><span class="comment">#也就是四个索引来决定一个值，将一个二维数据变成了一个四维数据  </span></span><br><span class="line">data = DataFrame(np.arange(<span class="number">12</span>).reshape(<span class="number">4</span>,<span class="number">3</span>),  </span><br><span class="line">                 index=[[<span class="string">"a"</span>,<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"b"</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>]],  </span><br><span class="line">                 columns=[[<span class="string">"A"</span>,<span class="string">"A"</span>,<span class="string">"B"</span>],[<span class="string">"Z"</span>,<span class="string">"X"</span>,<span class="string">"C"</span>]]) </span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th colspan="2" halign="left">A</th>
      <th>B</th>
    </tr>
    <tr>
      <th></th>
      <th></th>
      <th>Z</th>
      <th>X</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">a</th>
      <th>1</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">b</th>
      <th>1</th>
      <td>6</td>
      <td>7</td>
      <td>8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[:,<span class="string">'A'</span>]</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th></th>
      <th>Z</th>
      <th>X</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">a</th>
      <th>1</th>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>4</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">b</th>
      <th>1</th>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>2</th>
      <td>9</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[<span class="string">'a'</span>]</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th colspan="2" halign="left">A</th>
      <th>B</th>
    </tr>
    <tr>
      <th></th>
      <th>Z</th>
      <th>X</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[<span class="string">'a'</span>, <span class="string">'A'</span>]</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Z</th>
      <th>X</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">'A'</span>, <span class="string">'Z'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>a  1    0
   2    3
b  1    6
   2    9
Name: (A, Z), dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">data[<span class="string">'A'</span>][<span class="string">'Z'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>a  1    0
   2    3
b  1    6
   2    9
Name: Z, dtype: int32
</code></pre><p>没有找到直接去第二层索引的方式，Series是可以的：
没有找到直接去第二层索引的方式，Series是可以的：
没有找到直接去第二层索引的方式，Series是可以的：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">index = [[<span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'b'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'c'</span>, <span class="string">'c'</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">        ]</span><br><span class="line">da = Series(np.random.randn(<span class="number">9</span>),</span><br><span class="line">           index=index)</span><br><span class="line">da</span><br></pre></td></tr></table></figure>
<pre><code>a  1   -0.275735
   2   -1.586233
   3   -0.159972
b  1    0.753987
   2   -1.021724
   3    1.879282
c  1    2.118777
   2    0.653151
   3   -0.066282
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">da[:, <span class="number">2</span>] <span class="comment"># 取到所有第二层索引是2的数据</span></span><br></pre></td></tr></table></figure>
<pre><code>a   -1.586233
b   -1.021724
c    0.653151
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">da[<span class="string">'b'</span>: <span class="string">'c'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>b  1    0.753987
   2   -1.021724
   3    1.879282
c  1    2.118777
   2    0.653151
   3   -0.066282
dtype: float64
</code></pre><p><strong>3.交换索引、索引名称和排序</strong>
<strong>3.交换索引、索引名称和排序</strong>
<strong>3.交换索引、索引名称和排序</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data = DataFrame(np.arange(<span class="number">12</span>).reshape(<span class="number">4</span>,<span class="number">3</span>),  </span><br><span class="line">                 index=[[<span class="string">"a"</span>,<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"b"</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>]],  </span><br><span class="line">                 columns=[[<span class="string">"A"</span>,<span class="string">"A"</span>,<span class="string">"B"</span>],[<span class="string">"Z"</span>,<span class="string">"X"</span>,<span class="string">"C"</span>]]) </span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th colspan="2" halign="left">A</th>
      <th>B</th>
    </tr>
    <tr>
      <th></th>
      <th></th>
      <th>Z</th>
      <th>X</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">a</th>
      <th>1</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">b</th>
      <th>1</th>
      <td>6</td>
      <td>7</td>
      <td>8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#对每一个级别设置一个名称  </span></span><br><span class="line"><span class="comment">#设置行级别的名称  </span></span><br><span class="line">data.index.names=[<span class="string">"row1"</span>,<span class="string">"row2"</span>]  </span><br><span class="line"><span class="comment">#设置列级别的名称  </span></span><br><span class="line">data.columns.names=[<span class="string">"column1"</span>,<span class="string">"column2"</span>]  </span><br><span class="line">print(data)</span><br></pre></td></tr></table></figure>
<pre><code>column1    A       B
column2    Z   X   C
row1 row2           
a    1     0   1   2
     2     3   4   5
b    1     6   7   8
     2     9  10  11
</code></pre><p>或者
或者</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">index = pd.MultiIndex.from_arrays([[<span class="string">"a"</span>,<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"b"</span>], [<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>]], names=[<span class="string">'row1'</span>, <span class="string">'row2'</span>])</span><br><span class="line">columns = pd.MultiIndex.from_arrays([[<span class="string">"A"</span>,<span class="string">"A"</span>,<span class="string">"B"</span>],[<span class="string">"Z"</span>,<span class="string">"X"</span>,<span class="string">"C"</span>]], names=[<span class="string">'column1'</span>, <span class="string">'column2'</span>])</span><br><span class="line">data = DataFrame(np.arange(<span class="number">12</span>).reshape(<span class="number">4</span>,<span class="number">3</span>),  </span><br><span class="line">                 index=index,  </span><br><span class="line">                 columns=columns) </span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>column1</th>
      <th colspan="2" halign="left">A</th>
      <th>B</th>
    </tr>
    <tr>
      <th></th>
      <th>column2</th>
      <th>Z</th>
      <th>X</th>
      <th>C</th>
    </tr>
    <tr>
      <th>row1</th>
      <th>row2</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">a</th>
      <th>1</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">b</th>
      <th>1</th>
      <td>6</td>
      <td>7</td>
      <td>8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>



<p>swaplevel接受两个级别编号或名称，并返回一个互换了级别的新对象（原数据不发生变化）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.swaplevel(<span class="string">'row1'</span>, <span class="string">'row2'</span>)</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>column1</th>
      <th colspan="2" halign="left">A</th>
      <th>B</th>
    </tr>
    <tr>
      <th></th>
      <th>column2</th>
      <th>Z</th>
      <th>X</th>
      <th>C</th>
    </tr>
    <tr>
      <th>row2</th>
      <th>row1</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <th>a</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <th>a</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>1</th>
      <th>b</th>
      <td>6</td>
      <td>7</td>
      <td>8</td>
    </tr>
    <tr>
      <th>2</th>
      <th>b</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data.swaplevel(<span class="string">'column1'</span>, <span class="string">'column2'</span>, axis=<span class="number">1</span>)</span><br><span class="line"><span class="comment"># 对列变化 必须制定axis=1</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>column2</th>
      <th>Z</th>
      <th>X</th>
      <th>C</th>
    </tr>
    <tr>
      <th></th>
      <th>column1</th>
      <th>A</th>
      <th>A</th>
      <th>B</th>
    </tr>
    <tr>
      <th>row1</th>
      <th>row2</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">a</th>
      <th>1</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">b</th>
      <th>1</th>
      <td>6</td>
      <td>7</td>
      <td>8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#对指定级别中的值进行排序  </span></span><br><span class="line"><span class="comment">#对级别名称为row2中的值进行排序  </span></span><br><span class="line">data.sortlevel(<span class="number">1</span>)<span class="comment">#等价于data.swaplevel(0,1).sortlevel(0)  0代表第一个行索引 1是第2个行索引</span></span><br></pre></td></tr></table></figure>
<pre><code>D:\ProgramFiles\Anaconda3\lib\site-packages\ipykernel_launcher.py:3: FutureWarning: sortlevel is deprecated, use sort_index(level= ...)
  This is separate from the ipykernel package so we can avoid doing imports until
</code></pre><div>
<div>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>column1</th>
      <th colspan="2" halign="left">A</th>
      <th>B</th>
    </tr>
    <tr>
      <th></th>
      <th>column2</th>
      <th>Z</th>
      <th>X</th>
      <th>C</th>
    </tr>
    <tr>
      <th>row1</th>
      <th>row2</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <th>1</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>b</th>
      <th>1</th>
      <td>6</td>
      <td>7</td>
      <td>8</td>
    </tr>
    <tr>
      <th>a</th>
      <th>2</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>b</th>
      <th>2</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>



<p>上面出现了警告，可以改用下列方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.sort_index(level=<span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>column1</th>
      <th colspan="2" halign="left">A</th>
      <th>B</th>
    </tr>
    <tr>
      <th></th>
      <th>column2</th>
      <th>Z</th>
      <th>X</th>
      <th>C</th>
    </tr>
    <tr>
      <th>row1</th>
      <th>row2</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <th>1</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>b</th>
      <th>1</th>
      <td>6</td>
      <td>7</td>
      <td>8</td>
    </tr>
    <tr>
      <th>a</th>
      <th>2</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th>b</th>
      <th>2</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>



<p><strong>4.stack和unstack</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">index = [[<span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'b'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'c'</span>, <span class="string">'c'</span>],</span><br><span class="line">        [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">        ]</span><br><span class="line">da = Series(np.random.randn(<span class="number">9</span>),</span><br><span class="line">           index=index)</span><br><span class="line">da</span><br></pre></td></tr></table></figure>
<pre><code>a  1    1.022602
   2   -1.805138
   3   -0.270937
b  1    0.156505
   2   -0.670497
   3   -1.686902
c  1    0.434660
   2   -1.217518
   3   -1.778606
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">da.unstack() <span class="comment"># series变为dataframe</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>1.022602</td>
      <td>-1.805138</td>
      <td>-0.270937</td>
    </tr>
    <tr>
      <th>b</th>
      <td>0.156505</td>
      <td>-0.670497</td>
      <td>-1.686902</td>
    </tr>
    <tr>
      <th>c</th>
      <td>0.434660</td>
      <td>-1.217518</td>
      <td>-1.778606</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">da.unstack().stack() <span class="comment"># 都是返回新对象，不改变原对象</span></span><br></pre></td></tr></table></figure>
<pre><code>a  1    1.022602
   2   -1.805138
   3   -0.270937
b  1    0.156505
   2   -0.670497
   3   -1.686902
c  1    0.434660
   2   -1.217518
   3   -1.778606
dtype: float64
</code></pre><p><strong>根据级别汇总统计</strong>
<strong>根据级别汇总统计</strong>
<strong>根据级别汇总统计</strong></p>
<p>实际上利用了groupby的功能</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">data = DataFrame(np.arange(<span class="number">12</span>).reshape(<span class="number">4</span>,<span class="number">3</span>),  </span><br><span class="line">                 index=[[<span class="string">"a"</span>,<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"b"</span>],[<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>]],  </span><br><span class="line">                 columns=[[<span class="string">"A"</span>,<span class="string">"A"</span>,<span class="string">"B"</span>],[<span class="string">"Z"</span>,<span class="string">"X"</span>,<span class="string">"C"</span>]])  </span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th></th>
      <th colspan="2" halign="left">A</th>
      <th>B</th>
    </tr>
    <tr>
      <th></th>
      <th></th>
      <th>Z</th>
      <th>X</th>
      <th>C</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">a</th>
      <th>1</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">b</th>
      <th>1</th>
      <td>6</td>
      <td>7</td>
      <td>8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#对每一个级别设置一个名称  </span></span><br><span class="line"><span class="comment">#设置行级别的名称  </span></span><br><span class="line">data.index.names=[<span class="string">"row1"</span>,<span class="string">"row2"</span>]  </span><br><span class="line"><span class="comment">#设置列级别的名称  </span></span><br><span class="line">data.columns.names=[<span class="string">"column1"</span>,<span class="string">"column2"</span>]  </span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th></th>
      <th>column1</th>
      <th colspan="2" halign="left">A</th>
      <th>B</th>
    </tr>
    <tr>
      <th></th>
      <th>column2</th>
      <th>Z</th>
      <th>X</th>
      <th>C</th>
    </tr>
    <tr>
      <th>row1</th>
      <th>row2</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">a</th>
      <th>1</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>4</td>
      <td>5</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">b</th>
      <th>1</th>
      <td>6</td>
      <td>7</td>
      <td>8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#指定行级别的名称进行求和  </span></span><br><span class="line">data.sum(level=<span class="string">"row1"</span>)</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr>
      <th>column1</th>
      <th colspan="2" halign="left">A</th>
      <th>B</th>
    </tr>
    <tr>
      <th>column2</th>
      <th>Z</th>
      <th>X</th>
      <th>C</th>
    </tr>
    <tr>
      <th>row1</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>3</td>
      <td>5</td>
      <td>7</td>
    </tr>
    <tr>
      <th>b</th>
      <td>15</td>
      <td>17</td>
      <td>19</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#指定列级别的名称进求和  </span></span><br><span class="line">data.sum(level=<span class="string">"column1"</span>,axis=<span class="number">1</span>)  <span class="comment"># 对列，axis设为1</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>column1</th>
      <th>A</th>
      <th>B</th>
    </tr>
    <tr>
      <th>row1</th>
      <th>row2</th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th rowspan="2" valign="top">a</th>
      <th>1</th>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>2</th>
      <td>7</td>
      <td>5</td>
    </tr>
    <tr>
      <th rowspan="2" valign="top">b</th>
      <th>1</th>
      <td>13</td>
      <td>8</td>
    </tr>
    <tr>
      <th>2</th>
      <td>19</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>



<h2 id="1-4-索引取值和切片"><a href="#1-4-索引取值和切片" class="headerlink" title="1.4 索引取值和切片"></a>1.4 索引取值和切片</h2><h4 id="1-4-1-Series"><a href="#1-4-1-Series" class="headerlink" title="1.4.1 Series"></a>1.4.1 Series</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">ser = Series(np.arange(<span class="number">3.</span>))</span><br><span class="line">ser</span><br></pre></td></tr></table></figure>
<pre><code>0    0.0
1    1.0
2    2.0
dtype: float64
</code></pre><p>ser会被自动分配整数索引，不能和list、tuple等python的常用数据结构混淆，这里只能使用ser具有的索引值，如下面-1，ser并没有这个索引值。因为索引是整数，而位置也是整数，根本无法辨别大兄弟您是想要位置还是想要索引，索性只能输入索引值。
ser会被自动分配整数索引，不能和list、tuple等python的常用数据结构混淆，这里只能使用ser具有的索引值，如下面-1，ser并没有这个索引值。因为索引是整数，而位置也是整数，根本无法辨别大兄弟您是想要位置还是想要索引，索性只能输入索引值。
ser会被自动分配整数索引，不能和list、tuple等python的常用数据结构混淆，这里只能使用ser具有的索引值，如下面-1，ser并没有这个索引值。因为索引是整数，而位置也是整数，根本无法辨别大兄弟您是想要位置还是想要索引，索性只能输入索引值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ser[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

KeyError                                  Traceback (most recent call last)

&lt;ipython-input-319-3cbe0b873a9e&gt; in &lt;module&gt;()
----&gt; 1 ser[-1]


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\series.py in __getitem__(self, key)
    599         key = com._apply_if_callable(key, self)
    600         try:
--&gt; 601             result = self.index.get_value(self, key)
    602 
    603             if not is_scalar(result):


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in get_value(self, series, key)
   2475         try:
   2476             return self._engine.get_value(s, k,
-&gt; 2477                                           tz=getattr(series.dtype, &apos;tz&apos;, None))
   2478         except KeyError as e1:
   2479             if len(self) &gt; 0 and self.inferred_type in [&apos;integer&apos;, &apos;boolean&apos;]:


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_value()


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_value()


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_loc()


pandas\_libs\hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item()


pandas\_libs\hashtable_class_helper.pxi in pandas._libs.hashtable.Int64HashTable.get_item()


KeyError: -1
</code></pre><p>但是当指定非整数index后，消除了前面提到的歧义，就可以使用位置了：
但是当指定非整数index后，消除了前面提到的歧义，就可以使用位置了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = Series(np.arange(<span class="number">4.</span>), index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>])</span><br><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0.0
b    1.0
c    2.0
d    3.0
dtype: float64
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">obj[<span class="number">1</span>]</span><br></pre></td></tr></table></figure></p>
<pre><code>1.0
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure></p>
<pre><code>3.0
</code></pre><p>下面是一些取值方法：
下面是一些取值方法：
下面是一些取值方法：</p>
<p>1)根据索引和位置(非整数索引的时候)取单个元素</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="string">'b'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>1.0
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">obj[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>1.0
</code></pre><p>当输入的索引不存在时会报错：
当输入的索引不存在时会报错：
当输入的索引不存在时会报错：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="string">'f'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

TypeError                                 Traceback (most recent call last)

D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in get_value(self, series, key)
   2482             try:
-&gt; 2483                 return libts.get_value_box(s, key)
   2484             except IndexError:


pandas/_libs/tslib.pyx in pandas._libs.tslib.get_value_box (pandas\_libs\tslib.c:18843)()


pandas/_libs/tslib.pyx in pandas._libs.tslib.get_value_box (pandas\_libs\tslib.c:18477)()


TypeError: &apos;str&apos; object cannot be interpreted as an integer


During handling of the above exception, another exception occurred:


KeyError                                  Traceback (most recent call last)

&lt;ipython-input-351-20c50e1e3cab&gt; in &lt;module&gt;()
----&gt; 1 obj[&apos;f&apos;]


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\series.py in __getitem__(self, key)
    599         key = com._apply_if_callable(key, self)
    600         try:
--&gt; 601             result = self.index.get_value(self, key)
    602 
    603             if not is_scalar(result):


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in get_value(self, series, key)
   2489                     raise InvalidIndexError(key)
   2490                 else:
-&gt; 2491                     raise e1
   2492             except Exception:  # pragma: no cover
   2493                 raise e1


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in get_value(self, series, key)
   2475         try:
   2476             return self._engine.get_value(s, k,
-&gt; 2477                                           tz=getattr(series.dtype, &apos;tz&apos;, None))
   2478         except KeyError as e1:
   2479             if len(self) &gt; 0 and self.inferred_type in [&apos;integer&apos;, &apos;boolean&apos;]:


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_value()


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_value()


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_loc()


pandas\_libs\hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()


pandas\_libs\hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()


KeyError: &apos;f&apos;
</code></pre><p>如果不想报错，可以使用get，如果索引不存在，会返回None
如果不想报错，可以使用get，如果索引不存在，会返回None</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(obj.get(<span class="string">'f'</span>))</span><br></pre></td></tr></table></figure>
<pre><code>None
</code></pre><p>2)根据索引和位置取多个元素，可以离散的取， 这和list等都不一样
2)根据索引和位置取多个元素，可以离散的取， 这和list等都不一样</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]]</span><br></pre></td></tr></table></figure>
<pre><code>a    0.0
b    1.0
c    2.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">obj[[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>]]</span><br></pre></td></tr></table></figure>
<pre><code>a    0.0
b    1.0
c    2.0
dtype: float64
</code></pre><p>3)切片，连续的取：
3)切片，连续的取：
3)切片，连续的取：</p>
<p>利用<strong>标签</strong>的切片和利用位置的切片不一样，<strong>末端是包含的</strong>：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="string">'b'</span>: <span class="string">'c'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>b    1.0
c    2.0
dtype: float64
</code></pre><p>利用位置的切片和python正常的切片是一样的，末端不包含：
利用位置的切片和python正常的切片是一样的，末端不包含：
利用位置的切片和python正常的切片是一样的，末端不包含：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[<span class="number">1</span>: <span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<pre><code>b    1.0
dtype: float64
</code></pre><p>4)条件判断索引
4)条件判断索引
4)条件判断索引</p>
<p>条件判断， 返回布尔型的Seres：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj &gt; <span class="number">2</span></span><br></pre></td></tr></table></figure>
<pre><code>a    False
b    False
c    False
d     True
dtype: bool
</code></pre><p>条件索引，根据布尔型的结果返回满足true的一个Series
条件索引，根据布尔型的结果返回满足true的一个Series
条件索引，根据布尔型的结果返回满足true的一个Series</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">obj[obj &gt; <span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<pre><code>d    3.0
dtype: float64
</code></pre><h4 id="1-4-2-DateFrame"><a href="#1-4-2-DateFrame" class="headerlink" title="1.4.2 DateFrame"></a>1.4.2 DateFrame</h4><h4 id="1-4-2-DateFrame-1"><a href="#1-4-2-DateFrame-1" class="headerlink" title="1.4.2 DateFrame"></a>1.4.2 DateFrame</h4><h4 id="1-4-2-DateFrame-2"><a href="#1-4-2-DateFrame-2" class="headerlink" title="1.4.2 DateFrame"></a>1.4.2 DateFrame</h4><p><strong>对DateFrame直接进行索引，是列的操作，取单个或多个列</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data = DataFrame(np.arange(<span class="number">16</span>).reshape((<span class="number">4</span>, <span class="number">4</span>)), </span><br><span class="line">                index=[<span class="string">'Ohio'</span>, <span class="string">'Colorado'</span>, <span class="string">'Utah'</span>, <span class="string">'New York'</span>],</span><br><span class="line">                columns=[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>]</span><br><span class="line">                )</span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>



<p>1)通过列名（列标签）取单列和多列，取单列既可以传入列名也可以传入列表，而取多列时必须传入列表，传入列表返回的是DataFrame，否则返回的是Series</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">'two'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>Ohio         1
Colorado     5
Utah         9
New York    13
Name: two, dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">data[[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>]]</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12</td>
      <td>13</td>
      <td>14</td>
    </tr>
  </tbody>
</table>
</div>



<p>2)通过切片<br>
只能通过数字位置进行切片</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="number">1</span>:<span class="number">3</span>]</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">'one'</span>: <span class="string">'three'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in get_slice_bound(self, label, side, kind)
   3483             try:
-&gt; 3484                 return self._searchsorted_monotonic(label, side)
   3485             except ValueError:


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in _searchsorted_monotonic(self, label, side)
   3442 
-&gt; 3443         raise ValueError(&apos;index must be monotonic increasing or decreasing&apos;)
   3444 


ValueError: index must be monotonic increasing or decreasing


During handling of the above exception, another exception occurred:


KeyError                                  Traceback (most recent call last)

&lt;ipython-input-387-78299fedb6c5&gt; in &lt;module&gt;()
----&gt; 1 data[&apos;one&apos;: &apos;three&apos;]


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\frame.py in __getitem__(self, key)
   1950 
   1951         # see if we can slice the rows
-&gt; 1952         indexer = convert_to_index_sliceable(self, key)
   1953         if indexer is not None:
   1954             return self._getitem_slice(indexer)


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexing.py in convert_to_index_sliceable(obj, key)
   1894     idx = obj.index
   1895     if isinstance(key, slice):
-&gt; 1896         return idx._convert_slice_indexer(key, kind=&apos;getitem&apos;)
   1897 
   1898     elif isinstance(key, compat.string_types):


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in _convert_slice_indexer(self, key, kind)
   1405         else:
   1406             try:
-&gt; 1407                 indexer = self.slice_indexer(start, stop, step, kind=kind)
   1408             except Exception:
   1409                 if is_index_slice:


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in slice_indexer(self, start, end, step, kind)
   3348         &quot;&quot;&quot;
   3349         start_slice, end_slice = self.slice_locs(start, end, step=step,
-&gt; 3350                                                  kind=kind)
   3351 
   3352         # return a slice


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in slice_locs(self, start, end, step, kind)
   3536         start_slice = None
   3537         if start is not None:
-&gt; 3538             start_slice = self.get_slice_bound(start, &apos;left&apos;, kind)
   3539         if start_slice is None:
   3540             start_slice = 0


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in get_slice_bound(self, label, side, kind)
   3485             except ValueError:
   3486                 # raise the original KeyError
-&gt; 3487                 raise err
   3488 
   3489         if isinstance(slc, np.ndarray):


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in get_slice_bound(self, label, side, kind)
   3479         # we need to look up the label
   3480         try:
-&gt; 3481             slc = self._get_loc_only_exact_matches(label)
   3482         except KeyError as err:
   3483             try:


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in _get_loc_only_exact_matches(self, key)
   3448         get_slice_bound.
   3449         &quot;&quot;&quot;
-&gt; 3450         return self.get_loc(key)
   3451 
   3452     def get_slice_bound(self, label, side, kind):


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in get_loc(self, key, method, tolerance)
   2442                 return self._engine.get_loc(key)
   2443             except KeyError:
-&gt; 2444                 return self._engine.get_loc(self._maybe_cast_indexer(key))
   2445 
   2446         indexer = self.get_indexer([key], method=method, tolerance=tolerance)


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_loc()


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_loc()


pandas\_libs\hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()


pandas\_libs\hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()


KeyError: &apos;one&apos;
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">data[<span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

KeyError                                  Traceback (most recent call last)

D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in get_loc(self, key, method, tolerance)
   2441             try:
-&gt; 2442                 return self._engine.get_loc(key)
   2443             except KeyError:


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_loc()


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_loc()


pandas\_libs\hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()


pandas\_libs\hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()


KeyError: 2


During handling of the above exception, another exception occurred:


KeyError                                  Traceback (most recent call last)

&lt;ipython-input-380-70531c4fd9b1&gt; in &lt;module&gt;()
----&gt; 1 data[2]


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\frame.py in __getitem__(self, key)
   1962             return self._getitem_multilevel(key)
   1963         else:
-&gt; 1964             return self._getitem_column(key)
   1965 
   1966     def _getitem_column(self, key):


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\frame.py in _getitem_column(self, key)
   1969         # get column
   1970         if self.columns.is_unique:
-&gt; 1971             return self._get_item_cache(key)
   1972 
   1973         # duplicate columns &amp; possible reduce dimensionality


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\generic.py in _get_item_cache(self, item)
   1643         res = cache.get(item)
   1644         if res is None:
-&gt; 1645             values = self._data.get(item)
   1646             res = self._box_item_values(item, values)
   1647             cache[item] = res


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\internals.py in get(self, item, fastpath)
   3588 
   3589             if not isnull(item):
-&gt; 3590                 loc = self.items.get_loc(item)
   3591             else:
   3592                 indexer = np.arange(len(self.items))[isnull(self.items)]


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in get_loc(self, key, method, tolerance)
   2442                 return self._engine.get_loc(key)
   2443             except KeyError:
-&gt; 2444                 return self._engine.get_loc(self._maybe_cast_indexer(key))
   2445 
   2446         indexer = self.get_indexer([key], method=method, tolerance=tolerance)


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_loc()


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_loc()


pandas\_libs\hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()


pandas\_libs\hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.get_item()


KeyError: 2
</code></pre><p>3)通过布尔型Series
3)通过布尔型Series</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[data[<span class="string">'three'</span>] &gt; <span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>



<p>4)通过布尔型DataFrame</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data[data &gt; <span class="number">5</span>]</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>6.0</td>
      <td>7.0</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8.0</td>
      <td>9.0</td>
      <td>10.0</td>
      <td>11.0</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12.0</td>
      <td>13.0</td>
      <td>14.0</td>
      <td>15.0</td>
    </tr>
  </tbody>
</table>
</div>



<p><strong>只操作列肯定不能满足要求，因此还要操作行，或是同时操作行和列，因此有下面的办法</strong>：</p>
<p>亲，loc、iloc、iat、ix了解一下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data = DataFrame(np.arange(<span class="number">16</span>).reshape((<span class="number">4</span>, <span class="number">4</span>)), </span><br><span class="line">                index=[<span class="string">'Ohio'</span>, <span class="string">'Colorado'</span>, <span class="string">'Utah'</span>, <span class="string">'New York'</span>],</span><br><span class="line">                columns=[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>]</span><br><span class="line">                )</span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>



<p>1)loc<br>
通过label（index和columns的名字）来读取数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[:, :] <span class="comment"># 所有行 所有列</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[<span class="string">'Ohio'</span>] <span class="comment"># 选取指定的某一行 返回的是Series</span></span><br></pre></td></tr></table></figure>
<pre><code>one      0
two      1
three    2
four     3
Name: Ohio, dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">data.loc[<span class="string">'Ohio'</span>: <span class="string">'Utah'</span>] <span class="comment"># 可以对index进行切片，选取多行</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[[<span class="string">'Ohio'</span>, <span class="string">'Utah'</span>]] <span class="comment"># 选取多行 可以离散选取</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>3</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[: , <span class="string">'one'</span>: <span class="string">'three'</span>] <span class="comment"># 切片选取多列</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>3</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12</td>
      <td>13</td>
      <td>14</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[: , [<span class="string">'one'</span>, <span class="string">'three'</span>]] <span class="comment"># 选取多列 可以离散取</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>three</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>10</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12</td>
      <td>14</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[[<span class="string">'Ohio'</span>, <span class="string">'Utah'</span>], [<span class="string">'one'</span>, <span class="string">'three'</span>]] <span class="comment"># 同时选取行和列 可以离散的取</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>three</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[<span class="string">'Ohio'</span>: <span class="string">'Utah'</span>, <span class="string">'one'</span>: <span class="string">'three'</span>] <span class="comment"># 切片同时取行和列 连续的取</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>3</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[:, data &gt; <span class="number">5</span>] <span class="comment"># loc 不接受DateFrame 接受的是boolean array</span></span><br></pre></td></tr></table></figure>
<pre><code>---------------------------------------------------------------------------

ValueError                                Traceback (most recent call last)

&lt;ipython-input-420-a9f88c1adeb2&gt; in &lt;module&gt;()
----&gt; 1 data.loc[:, data &gt; 5] # loc 不接受DateFrame 接受的是boolean array


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexing.py in __getitem__(self, key)
   1323             except (KeyError, IndexError):
   1324                 pass
-&gt; 1325             return self._getitem_tuple(key)
   1326         else:
   1327             key = com._apply_if_callable(key, self.obj)


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexing.py in _getitem_tuple(self, tup)
    839 
    840         # no multi-index, so validate all of the indexers
--&gt; 841         self._has_valid_tuple(tup)
    842 
    843         # ugly hack for GH #836


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexing.py in _has_valid_tuple(self, key)
    187             if i &gt;= self.obj.ndim:
    188                 raise IndexingError(&apos;Too many indexers&apos;)
--&gt; 189             if not self._has_valid_type(k, i):
    190                 raise ValueError(&quot;Location based indexing can only have [%s] &quot;
    191                                  &quot;types&quot; % self._valid_types)


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexing.py in _has_valid_type(self, key, axis)
   1413             # TODO: don&apos;t check the entire key unless necessary
   1414             if (not is_iterator(key) and len(key) and
-&gt; 1415                     np.all(ax.get_indexer_for(key) &lt; 0)):
   1416 
   1417                 raise KeyError(&quot;None of [%s] are in the [%s]&quot; %


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in get_indexer_for(self, target, **kwargs)
   2715         &quot;&quot;&quot;
   2716         if self.is_unique:
-&gt; 2717             return self.get_indexer(target, **kwargs)
   2718         indexer, _ = self.get_indexer_non_unique(target, **kwargs)
   2719         return indexer


D:\ProgramFiles\Anaconda3\lib\site-packages\pandas\core\indexes\base.py in get_indexer(self, target, method, limit, tolerance)
   2596                                  &apos;backfill or nearest reindexing&apos;)
   2597 
-&gt; 2598             indexer = self._engine.get_indexer(target._values)
   2599 
   2600         return _ensure_platform_int(indexer)


pandas\_libs\index.pyx in pandas._libs.index.IndexEngine.get_indexer()


pandas\_libs\hashtable_class_helper.pxi in pandas._libs.hashtable.PyObjectHashTable.lookup()


ValueError: Buffer has wrong number of dimensions (expected 1, got 2)
</code></pre><p>官方文档是最好的资料，具体查看文档：
官方文档是最好的资料，具体查看文档：</p>
<blockquote>
<p>DataFrame.loc
Purely label-location based indexer for selection by label.</p>
</blockquote>
<blockquote>
<p>.loc[] is primarily label based, but may also be used with a boolean array.</p>
</blockquote>
<blockquote>
<p>Allowed inputs are:</p>
</blockquote>
<blockquote>
<p>A single label, e.g. 5 or ‘a’, (note that 5 is interpreted as a label of the index, and never as an integer position along the index).<br>
A list or array of labels, e.g. [‘a’, ‘b’, ‘c’].<br>
A slice object with labels, e.g. ‘a’:’f’ (note that contrary to usual python slices, both the start and the stop are included!).<br>
A boolean array.<br>
A callable function with one argument (the calling Series, DataFrame or Panel) and that returns valid output for indexing (one of the above)<br>
.loc will raise a KeyError when the items are not found.<br></p>
</blockquote>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[:, data.dtypes == <span class="string">'int'</span>]</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>3</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.dtypes == <span class="string">'int'</span> <span class="comment"># 是boolean array</span></span><br></pre></td></tr></table></figure>
<pre><code>one      True
two      True
three    True
four     True
dtype: bool
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">data.loc[:, data.loc[<span class="string">'Utah'</span>] &gt; <span class="number">8</span>]</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>3</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.loc[<span class="string">'Utah'</span>] &gt; <span class="number">8</span> <span class="comment"># 是boolean array</span></span><br></pre></td></tr></table></figure>
<pre><code>one      False
two       True
three     True
four      True
Name: Utah, dtype: bool
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">data.loc[data.loc[: , <span class="string">'two'</span>] &gt; <span class="number">8</span>]</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>



<p>下面是用函数作为参数读取数：<br>
Selection By Callable<br>
New in version 0.18.1.<br></p>
<p>.loc, .iloc, and also [] indexing can accept a callable as indexer. The callable must be a function with one argument (the calling Series, DataFrame or Panel) and that returns valid output for indexing.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df1 = pd.DataFrame(np.random.randn(<span class="number">6</span>, <span class="number">4</span>),</span><br><span class="line">                       index=list(<span class="string">'abcdef'</span>),</span><br><span class="line">                       columns=list(<span class="string">'ABCD'</span>))</span><br><span class="line">df1</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>0.057604</td>
      <td>0.928098</td>
      <td>0.384147</td>
      <td>1.358032</td>
    </tr>
    <tr>
      <th>b</th>
      <td>0.382163</td>
      <td>0.288465</td>
      <td>1.553063</td>
      <td>0.879548</td>
    </tr>
    <tr>
      <th>c</th>
      <td>-0.535557</td>
      <td>1.423311</td>
      <td>0.316924</td>
      <td>-1.198802</td>
    </tr>
    <tr>
      <th>d</th>
      <td>0.759428</td>
      <td>0.018617</td>
      <td>-0.357118</td>
      <td>-0.299691</td>
    </tr>
    <tr>
      <th>e</th>
      <td>-1.690809</td>
      <td>1.127124</td>
      <td>0.179892</td>
      <td>-0.035294</td>
    </tr>
    <tr>
      <th>f</th>
      <td>-2.097930</td>
      <td>0.099901</td>
      <td>-0.808308</td>
      <td>-1.294563</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.loc[<span class="keyword">lambda</span> df: df.A &gt; <span class="number">0</span>, :] <span class="comment"># lambda中的参数df是df1本身</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
      <th>C</th>
      <th>D</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>0.057604</td>
      <td>0.928098</td>
      <td>0.384147</td>
      <td>1.358032</td>
    </tr>
    <tr>
      <th>b</th>
      <td>0.382163</td>
      <td>0.288465</td>
      <td>1.553063</td>
      <td>0.879548</td>
    </tr>
    <tr>
      <th>d</th>
      <td>0.759428</td>
      <td>0.018617</td>
      <td>-0.357118</td>
      <td>-0.299691</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.loc[:, <span class="keyword">lambda</span> df: [<span class="string">'A'</span>, <span class="string">'B'</span>]]</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>-0.366707</td>
      <td>-0.606583</td>
    </tr>
    <tr>
      <th>b</th>
      <td>0.050125</td>
      <td>-1.216684</td>
    </tr>
    <tr>
      <th>c</th>
      <td>-1.060550</td>
      <td>0.295268</td>
    </tr>
    <tr>
      <th>d</th>
      <td>0.482110</td>
      <td>1.864571</td>
    </tr>
    <tr>
      <th>e</th>
      <td>2.149077</td>
      <td>-0.366159</td>
    </tr>
    <tr>
      <th>f</th>
      <td>-0.706083</td>
      <td>1.959755</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.iloc[:, <span class="keyword">lambda</span> df: [<span class="number">0</span>, <span class="number">1</span>]]</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>A</th>
      <th>B</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>a</th>
      <td>-0.366707</td>
      <td>-0.606583</td>
    </tr>
    <tr>
      <th>b</th>
      <td>0.050125</td>
      <td>-1.216684</td>
    </tr>
    <tr>
      <th>c</th>
      <td>-1.060550</td>
      <td>0.295268</td>
    </tr>
    <tr>
      <th>d</th>
      <td>0.482110</td>
      <td>1.864571</td>
    </tr>
    <tr>
      <th>e</th>
      <td>2.149077</td>
      <td>-0.366159</td>
    </tr>
    <tr>
      <th>f</th>
      <td>-0.706083</td>
      <td>1.959755</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1[<span class="keyword">lambda</span> df: df.columns[<span class="number">0</span>]]</span><br></pre></td></tr></table></figure>
<pre><code>a   -0.366707
b    0.050125
c   -1.060550
d    0.482110
e    2.149077
f   -0.706083
Name: A, dtype: float64
</code></pre><p>也可用于Series
也可用于Series
也可用于Series</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.A.loc[<span class="keyword">lambda</span> s: s &gt; <span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<pre><code>b    0.050125
d    0.482110
e    2.149077
Name: A, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">data.loc[<span class="string">'Ohio'</span>, <span class="string">'one'</span>] <span class="comment"># 选取一个元素</span></span><br></pre></td></tr></table></figure>
<pre><code>3
</code></pre><p>2)at<br>
2)at<br>
2)at<br>
通过label定位某一个元素<br>
下面和data.loc[‘Ohio’, ‘one’] 功能一样,但是at效率更高</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.at[<span class="string">'Ohio'</span>, <span class="string">'one'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>3
</code></pre><p>3)iloc<br>
3)iloc<br>
3)iloc<br>
通过position来读取数据</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.iloc[:, :] <span class="comment"># 读取所有行 所有列</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>3</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.iloc[<span class="number">1</span>:<span class="number">3</span>] <span class="comment"># 切片方式读取多行</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.iloc[[<span class="number">1</span>, <span class="number">3</span>]] <span class="comment"># 取多行 离散方式</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.iloc[<span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<pre><code>one       8
two       9
three    10
four     11
Name: Utah, dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">data.iloc[<span class="number">1</span>, <span class="number">2</span>] <span class="comment"># 取某个元素</span></span><br></pre></td></tr></table></figure>
<pre><code>6
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">data.iloc[<span class="number">1</span>: <span class="number">3</span>, <span class="number">1</span>: <span class="number">3</span>] <span class="comment"># 读取多行多列</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>two</th>
      <th>three</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Colorado</th>
      <td>5</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>9</td>
      <td>10</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.iloc[[<span class="number">1</span>, <span class="number">3</span>], [<span class="number">1</span>, <span class="number">3</span>]] <span class="comment"># 读取多行多列</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>two</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Colorado</th>
      <td>5</td>
      <td>7</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>13</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>



<p>传入Boolean array 还要研究下</p>
<p>4)iat
<br>定位某个元素 比iloc实现效率高</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.iat[<span class="number">1</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<pre><code>5
</code></pre><p>5）ix<br>
5）ix<br>
5）ix<br>
结合前两种的混合索引 即可以只用标签，也可以只用位置，还可以混着用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data.ix[<span class="number">1</span>, <span class="string">'two'</span>]</span><br></pre></td></tr></table></figure>
<pre><code>D:\ProgramFiles\Anaconda3\lib\site-packages\ipykernel_launcher.py:1: DeprecationWarning: 
.ix is deprecated. Please use
.loc for label based indexing or
.iloc for positional indexing

See the documentation here:
http://pandas.pydata.org/pandas-docs/stable/indexing.html#ix-indexer-is-deprecated
  &quot;&quot;&quot;Entry point for launching an IPython kernel.





5
</code></pre><p>上面警告看出，ix不被支持使用，因此尽量不用
上面警告看出，ix不被支持使用，因此尽量不用
上面警告看出，ix不被支持使用，因此尽量不用</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m = data.loc[<span class="string">'Ohio'</span>]  <span class="comment"># DataFrame是由Series组成的 这里的m就是DataFrame的Series 修改Series 就修改了DataFrame</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m = <span class="number">3</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>3</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>



<h4 id="1-5-赋值和数据修改"><a href="#1-5-赋值和数据修改" class="headerlink" title="1.5 赋值和数据修改"></a>1.5 赋值和数据修改</h4><p><strong>Series</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">obj = Series(np.arange(<span class="number">4</span>), index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>])</span><br><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0
b    1
c    2
d    3
dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">obj[<span class="number">1</span>: <span class="number">2</span>]=<span class="number">5</span></span><br><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0
b    5
c    2
d    3
dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">obj[<span class="string">'b'</span>, <span class="string">'c'</span>]=<span class="number">5</span></span><br><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0
b    5
c    5
d    3
dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">obj[<span class="string">'b'</span>: <span class="string">'c'</span>]=<span class="number">6</span></span><br><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0
b    6
c    6
d    3
dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">obj[<span class="string">'b'</span>, <span class="string">'c'</span>]= [<span class="number">10</span>, <span class="number">11</span>]</span><br><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a     0
b    10
c    11
d     3
dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">s = Series(np.arange(<span class="number">2</span>))</span><br><span class="line">s</span><br><span class="line">obj[<span class="string">'b'</span>, <span class="string">'c'</span>] =s <span class="comment"># 能匹配的索引才会被赋值 否则为空 s没有‘b’,‘c’索引 因此都不能匹配</span></span><br><span class="line">obj</span><br></pre></td></tr></table></figure>
<pre><code>a    0.0
b    NaN
c    NaN
d    3.0
dtype: float64
</code></pre><p>dataframe中把一列赋给另一列是可行的 就是应为index是统一的，开始用series创建dataframe时，我们也提到过
dataframe中把一列赋给另一列是可行的 就是应为index是统一的，开始用series创建dataframe时，我们也提到过
dataframe中把一列赋给另一列是可行的 就是应为index是统一的，开始用series创建dataframe时，我们也提到过</p>
<p><strong>DataFrame</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data = DataFrame(np.arange(<span class="number">16</span>).reshape((<span class="number">4</span>, <span class="number">4</span>)), </span><br><span class="line">                index=[<span class="string">'Ohio'</span>, <span class="string">'Colorado'</span>, <span class="string">'Utah'</span>, <span class="string">'New York'</span>],</span><br><span class="line">                columns=[<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>, <span class="string">'four'</span>]</span><br><span class="line">                )</span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>0</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>4</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>8</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>12</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">'one'</span>] = <span class="number">5</span></span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>5</td>
      <td>1</td>
      <td>2</td>
      <td>3</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>5</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>5</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data.loc[<span class="string">'Ohio'</span>] = <span class="number">6</span></span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>6</td>
      <td>6</td>
      <td>6</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>5</td>
      <td>9</td>
      <td>10</td>
      <td>11</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>5</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data.iloc[<span class="number">2</span>, <span class="number">3</span>] = <span class="number">66</span></span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>6</td>
      <td>6</td>
      <td>6</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>5</td>
      <td>5</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>5</td>
      <td>9</td>
      <td>10</td>
      <td>66</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>5</td>
      <td>13</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">'two'</span>]=[<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>,<span class="number">11</span>]</span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>6</td>
      <td>8</td>
      <td>6</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>5</td>
      <td>9</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>5</td>
      <td>10</td>
      <td>10</td>
      <td>66</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>5</td>
      <td>11</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">'two'</span>]=data[<span class="string">'four'</span>]</span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>6</td>
      <td>6</td>
      <td>6</td>
      <td>6</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>5</td>
      <td>7</td>
      <td>6</td>
      <td>7</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>5</td>
      <td>66</td>
      <td>10</td>
      <td>66</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>5</td>
      <td>15</td>
      <td>14</td>
      <td>15</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">data[<span class="string">'six'</span>]=<span class="string">'hello'</span></span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
      <th>six</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>6</td>
      <td>6</td>
      <td>6</td>
      <td>6</td>
      <td>hello</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>5</td>
      <td>7</td>
      <td>6</td>
      <td>7</td>
      <td>hello</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>5</td>
      <td>66</td>
      <td>10</td>
      <td>66</td>
      <td>hello</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>5</td>
      <td>15</td>
      <td>14</td>
      <td>15</td>
      <td>hello</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = Series(np.arange(<span class="number">4</span>), index=[<span class="string">'Ohio'</span>,<span class="string">'A'</span>, <span class="string">'Utah'</span>, <span class="string">'b'</span>])</span><br><span class="line">data[<span class="string">'seven'</span>] = s <span class="comment"># 相同的索引才会被赋值 否则是空</span></span><br><span class="line">data</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>one</th>
      <th>two</th>
      <th>three</th>
      <th>four</th>
      <th>six</th>
      <th>seven</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>6</td>
      <td>6</td>
      <td>6</td>
      <td>6</td>
      <td>hello</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>5</td>
      <td>7</td>
      <td>6</td>
      <td>7</td>
      <td>hello</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>5</td>
      <td>66</td>
      <td>10</td>
      <td>66</td>
      <td>hello</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>New York</th>
      <td>5</td>
      <td>15</td>
      <td>14</td>
      <td>15</td>
      <td>hello</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



<h2 id="1-6-简单算术运算"><a href="#1-6-简单算术运算" class="headerlink" title="1.6 简单算术运算"></a>1.6 简单算术运算</h2><h4 id="1-6-1-Series"><a href="#1-6-1-Series" class="headerlink" title="1.6.1 Series"></a>1.6.1 Series</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s1 = Series([<span class="number">7.3</span>, <span class="number">-2.5</span>, <span class="number">3.4</span>, <span class="number">1.5</span>], index=[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>])</span><br><span class="line">s1</span><br></pre></td></tr></table></figure>
<pre><code>a    7.3
b   -2.5
d    3.4
e    1.5
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">s2 = Series([<span class="number">-2.1</span>, <span class="number">3.6</span>, <span class="number">-1.5</span>, <span class="number">4</span>, <span class="number">3.1</span>], index=[<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>])</span><br><span class="line">s2</span><br></pre></td></tr></table></figure>
<pre><code>a   -2.1
c    3.6
e   -1.5
f    4.0
g    3.1
dtype: float64
</code></pre><p>广播特性，作用于每一个元素：
广播特性，作用于每一个元素：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s1*<span class="number">2</span> <span class="comment"># 返回新series 不改变原series</span></span><br></pre></td></tr></table></figure>
<pre><code>a    14.6
b    -5.0
d     6.8
e     3.0
dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">s1+<span class="number">2</span></span><br></pre></td></tr></table></figure>
<pre><code>a    9.3
b   -0.5
d    5.4
e    3.5
dtype: float64
</code></pre><p>pandas可以对不同的索引的对象进行算术运算，将对象相加时，如果两个对象的索引不同，则结果的索引是两者索引的并集，只有两者都有的索引的值才会相加，其他的索引对应的值都是空
pandas可以对不同的索引的对象进行算术运算，将对象相加时，如果两个对象的索引不同，则结果的索引是两者索引的并集，只有两者都有的索引的值才会相加，其他的索引对应的值都是空</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s1+s2 <span class="comment"># a和e是两者都有的索引</span></span><br></pre></td></tr></table></figure>
<pre><code>a    5.2
b    NaN
c    NaN
d    NaN
e    0.0
f    NaN
g    NaN
dtype: float64
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">s3 = s1+<span class="number">10</span>*s2</span><br><span class="line">s3</span><br></pre></td></tr></table></figure></p>
<pre><code>a   -13.7
b     NaN
c     NaN
d     NaN
e   -13.5
f     NaN
g     NaN
dtype: float64
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s3 = Series([<span class="string">'a'</span>, <span class="string">'c'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>, <span class="string">'g'</span>])</span><br><span class="line">s3</span><br></pre></td></tr></table></figure></p>
<pre><code>0    a
1    c
2    e
3    f
4    g
dtype: object
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">s3*<span class="number">2</span></span><br></pre></td></tr></table></figure></p>
<pre><code>0    aa
1    cc
2    ee
3    ff
4    gg
dtype: object
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">s3+<span class="string">'sh'</span></span><br></pre></td></tr></table></figure></p>
<pre><code>0    ash
1    csh
2    esh
3    fsh
4    gsh
dtype: object
</code></pre><h4 id="1-6-2-DataFrame"><a href="#1-6-2-DataFrame" class="headerlink" title="1.6.2 DataFrame"></a>1.6.2 DataFrame</h4><h4 id="1-6-2-DataFrame-1"><a href="#1-6-2-DataFrame-1" class="headerlink" title="1.6.2 DataFrame"></a>1.6.2 DataFrame</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df1 = DataFrame(np.arange(<span class="number">9.</span>).reshape((<span class="number">3</span>, <span class="number">3</span>)),columns=list(<span class="string">'bcd'</span>), index=[<span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Colorado'</span>])</span><br><span class="line">df2 = DataFrame(np.arange(<span class="number">12.</span>).reshape((<span class="number">4</span>, <span class="number">3</span>)),columns=list(<span class="string">'bde'</span>), index=[<span class="string">'Utah'</span>, <span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Oregon'</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>d</th>
      <th>e</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Utah</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>9.0</td>
      <td>10.0</td>
      <td>11.0</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1*<span class="number">2</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>0.0</td>
      <td>2.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>6.0</td>
      <td>8.0</td>
      <td>10.0</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>12.0</td>
      <td>14.0</td>
      <td>16.0</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1+<span class="number">2</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>2.0</td>
      <td>3.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>5.0</td>
      <td>6.0</td>
      <td>7.0</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>8.0</td>
      <td>9.0</td>
      <td>10.0</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1[<span class="string">'b'</span>]+<span class="number">1</span></span><br></pre></td></tr></table></figure>
<pre><code>Ohio        1.0
Texas       4.0
Colorado    7.0
Name: b, dtype: float64
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">df1[<span class="string">'b'</span>]+df1[<span class="string">'d'</span>]</span><br></pre></td></tr></table></figure></p>
<pre><code>Ohio         2.0
Texas        8.0
Colorado    14.0
dtype: float64
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1[<span class="string">'b'</span>]*df1[<span class="string">'d'</span>]</span><br></pre></td></tr></table></figure></p>
<pre><code>Ohio         0.0
Texas       15.0
Colorado    48.0
dtype: float64
</code></pre><p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">df1[<span class="string">'e'</span>] = df1[<span class="string">'b'</span>] + df1[<span class="string">'d'</span>]</span><br><span class="line">df1</span><br></pre></td></tr></table></figure></p>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
      <th>e</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>2.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
      <td>14.0</td>
    </tr>
  </tbody>
</table>
</div>




<p>​<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2</span><br></pre></td></tr></table></figure></p>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>d</th>
      <th>e</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Utah</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>9.0</td>
      <td>10.0</td>
      <td>11.0</td>
    </tr>
  </tbody>
</table>
</div>



<p>两个dataframe相加后返回一个新的dataframe，其索引和列都是原来两个dataframe的并集，行列索引都相同值才会加到一起，其他均为空：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1+df2</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
      <th>e</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Colorado</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>3.0</td>
      <td>NaN</td>
      <td>6.0</td>
      <td>7.0</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>9.0</td>
      <td>NaN</td>
      <td>12.0</td>
      <td>16.0</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



<p>以上都是数值型的运算，如果有一列的数据是字符串，依然可以进行字符串的运算</p>
<p>从上面知，如果不同索引的对象进行运算，会有很多空值，如果想把这些空值填充可以用下面的方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df1 = DataFrame(np.arange(<span class="number">9.</span>).reshape((<span class="number">3</span>, <span class="number">3</span>)),columns=list(<span class="string">'bcd'</span>), index=[<span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Colorado'</span>])</span><br><span class="line">df2 = DataFrame(np.arange(<span class="number">12.</span>).reshape((<span class="number">4</span>, <span class="number">3</span>)),columns=list(<span class="string">'bde'</span>), index=[<span class="string">'Utah'</span>, <span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Oregon'</span>])</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Ohio</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>Colorado</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df2</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>d</th>
      <th>e</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Utah</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>9.0</td>
      <td>10.0</td>
      <td>11.0</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1+df2</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
      <th>e</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Colorado</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>3.0</td>
      <td>NaN</td>
      <td>6.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>9.0</td>
      <td>NaN</td>
      <td>12.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df1.add(df2)</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
      <th>e</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Colorado</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>3.0</td>
      <td>NaN</td>
      <td>6.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>9.0</td>
      <td>NaN</td>
      <td>12.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df1.add(df2, fill_value=<span class="number">0</span>) <span class="comment"># 看结果是 把NaN填为两个之中存在的对应元素 若两个对象都没有该元素 为空 设为1时 填上的元素会加1</span></span><br><span class="line"><span class="comment"># 其实就是用0填充，比如df1没有Utah、b，而df2有Utah、b，相加时，先用0填充df1的utah、b,使其</span></span><br><span class="line"><span class="comment">#不为空，然后再相加，结果是0+0（df2此处值也是0）=0</span></span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>c</th>
      <th>d</th>
      <th>e</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Colorado</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>3.0</td>
      <td>1.0</td>
      <td>6.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>9.0</td>
      <td>NaN</td>
      <td>10.0</td>
      <td>11.0</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>9.0</td>
      <td>4.0</td>
      <td>12.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>Utah</th>
      <td>0.0</td>
      <td>NaN</td>
      <td>1.0</td>
      <td>2.0</td>
    </tr>
  </tbody>
</table>
</div>





<p>DataFrame和Series之间的运算</p>
<p>默认是匹配列并在行上广播</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">city = Series([5, 5, 7],)</span><br><span class="line">pop = Series([1, 2, 3], )</span><br><span class="line">data = &#123;</span><br><span class="line">    &apos;city&apos;: city,</span><br><span class="line">   &apos;people&apos;: pop</span><br><span class="line">&#125;</span><br><span class="line">df = DataFrame(data)</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">city	people</span><br><span class="line">0	5	1</span><br><span class="line">1	5	2</span><br><span class="line">2	7	3</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s = Series([1, 2, 3])</span><br><span class="line">s</span><br><span class="line"></span><br><span class="line">0    1</span><br><span class="line">1    2</span><br><span class="line">2    3</span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">df+s</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">city	people	0	1	2</span><br><span class="line">0	NaN	NaN	NaN	NaN	NaN</span><br><span class="line">1	NaN	NaN	NaN	NaN	NaN</span><br><span class="line">2	NaN	NaN	NaN	NaN	NaN</span><br></pre></td></tr></table></figure>
<p>虽然上面s 的索引是0、1、 2，df的行索引 也是0 、 1、2，但是匹配的依然是列，多出来0、 1、 2三列。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">frame = DataFrame(np.arange(<span class="number">12.</span>).reshape((<span class="number">4</span>, <span class="number">3</span>)),columns=list(<span class="string">'bde'</span>), index=[<span class="string">'Utah'</span>, <span class="string">'Ohio'</span>, <span class="string">'Texas'</span>, <span class="string">'Oregon'</span>])</span><br><span class="line">frame</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>d</th>
      <th>e</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Utah</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>9.0</td>
      <td>10.0</td>
      <td>11.0</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ser = frame.iloc[<span class="number">0</span>]</span><br><span class="line">ser</span><br></pre></td></tr></table></figure>
<pre><code>b    0.0
d    1.0
e    2.0
Name: Utah, dtype: float64
</code></pre><p>frame-ser
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">    .dataframe thead tr:only-child th &#123;</span><br><span class="line">        text-align: right;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    .dataframe thead th &#123;</span><br><span class="line">        text-align: left;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    .dataframe tbody tr th &#123;</span><br><span class="line">        vertical-align: top;</span><br><span class="line">    &#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;table border=&quot;1&quot; class=&quot;dataframe&quot;&gt;</span><br><span class="line">  &lt;thead&gt;</span><br><span class="line">    &lt;tr style=&quot;text-align: right;&quot;&gt;</span><br><span class="line">      &lt;th&gt;&lt;/th&gt;</span><br><span class="line">      &lt;th&gt;b&lt;/th&gt;</span><br><span class="line">      &lt;th&gt;d&lt;/th&gt;</span><br><span class="line">      &lt;th&gt;e&lt;/th&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">  &lt;/thead&gt;</span><br><span class="line">  &lt;tbody&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">      &lt;th&gt;Utah&lt;/th&gt;</span><br><span class="line">      &lt;td&gt;0.0&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;0.0&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;0.0&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">      &lt;th&gt;Ohio&lt;/th&gt;</span><br><span class="line">      &lt;td&gt;3.0&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;3.0&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;3.0&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">      &lt;th&gt;Texas&lt;/th&gt;</span><br><span class="line">      &lt;td&gt;6.0&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;6.0&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;6.0&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">    &lt;tr&gt;</span><br><span class="line">      &lt;th&gt;Oregon&lt;/th&gt;</span><br><span class="line">      &lt;td&gt;9.0&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;9.0&lt;/td&gt;</span><br><span class="line">      &lt;td&gt;9.0&lt;/td&gt;</span><br><span class="line">    &lt;/tr&gt;</span><br><span class="line">  &lt;/tbody&gt;</span><br><span class="line">&lt;/table&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">这就是广播，每一行都减去了这个series</span><br><span class="line"></span><br><span class="line">如果某个索引值在DataFrame的列或Series的索引中找不到，则参与运算的两个对象就会被重新索引以形成并集</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ser2 = Series(range(3), index=[&apos;b&apos;, &apos;e&apos;, &apos;f&apos;])</span><br><span class="line">ser2</span><br></pre></td></tr></table></figure></p>
<pre><code>b    0
e    1
f    2
dtype: int32
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">frame+ser2</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>d</th>
      <th>e</th>
      <th>f</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Utah</th>
      <td>0.0</td>
      <td>NaN</td>
      <td>3.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>3.0</td>
      <td>NaN</td>
      <td>6.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>6.0</td>
      <td>NaN</td>
      <td>9.0</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>9.0</td>
      <td>NaN</td>
      <td>12.0</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div>



<p>如果要匹配行并在列上广播，必须使用算术运算方法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ser3 = frame[<span class="string">'d'</span>]</span><br><span class="line">ser3</span><br></pre></td></tr></table></figure>
<pre><code>Utah       1.0
Ohio       4.0
Texas      7.0
Oregon    10.0
Name: d, dtype: float64
</code></pre><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">​```python</span><br><span class="line">​```python</span><br><span class="line">frame</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>d</th>
      <th>e</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Utah</th>
      <td>0.0</td>
      <td>1.0</td>
      <td>2.0</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>3.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>6.0</td>
      <td>7.0</td>
      <td>8.0</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>9.0</td>
      <td>10.0</td>
      <td>11.0</td>
    </tr>
  </tbody>
</table>
</div>




<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">frame.sub(ser3, axis=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>
<div>
<style>
    .dataframe thead tr:only-child th {
        text-align: right;
    }

    .dataframe thead th {
        text-align: left;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>b</th>
      <th>d</th>
      <th>e</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Utah</th>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>Ohio</th>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>Texas</th>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
    <tr>
      <th>Oregon</th>
      <td>-1.0</td>
      <td>0.0</td>
      <td>1.0</td>
    </tr>
  </tbody>
</table>
</div>


</div></div>
    </article>
    <!-- 前后页  -->
    <ul class="post-paginator">
        <li class="next">
            
                <div class="nextSlogan">Next Post</div>
                <a href= "/2018/04/15/pandas读写和存储/" title= pandas读写和存储 >
                    <div class="nextTitle">pandas读写和存储</div>
                </a>
            
        </li>
        <li class="previous">
            
                <div class="prevSlogan">Previous Post</div>
                <a href= "/2018/04/12/R语言part2/" title= R语言part2 >
                    <div class="prevTitle">R语言part2</div>
                </a>
            
        </li>
    </ul>
    <!-- 评论插件 -->
    <!-- 来必力City版安装代码 -->

<!-- City版安装代码已完成 -->
    
    
    <!--PC版-->

    <!--PC版-->


    
    <!-- 评论 -->
</main>
            <!-- profile -->
            
        </div>
        <footer class="footer footer-unloaded">
    <!-- social  -->
    
    <div class="social">
        
    
        
            
                <a href="mailto:750456695@qq.com" class="iconfont-archer email" title=email ></a>
            
        
    
        
            
                <a href="//github.com/zhao750456695" class="iconfont-archer github" target="_blank" title=github></a>
            
        
    
        
            
                <span class="iconfont-archer wechat" title=wechat>
                  
                  <img class="profile-qr" src="/assets/example_qr.png" />
                </span>
            
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
    
        
            
                <a href="/atom.xml" class="iconfont-archer rss" target="_blank" title=rss></a>
            
        
    

    </div>
    
    <!-- powered by Hexo  -->
    <div class="copyright">
        <span id="hexo-power">Powered by <a href="https://hexo.io/" target="_blank">Hexo</a></span><span class="iconfont-archer power">&#xe635;</span><span id="theme-info">theme <a href="https://github.com/fi3ework/hexo-theme-archer" target="_blank">Archer</a></span>
    </div>
    <!-- 不蒜子  -->
    
    <div class="busuanzi-container">
        <span id="busuanzi_container_site_pv">PV: <span id="busuanzi_value_site_pv"></span>
        </span>
    </div>
    
</footer>
    </div>
    <!-- toc -->
    
    <div class="toc-wrapper" style=
    







top:50vh;

    >
        <div class="toc-catalog">
            <span class="iconfont-archer catalog-icon">&#xe613;</span><span>CATALOG</span>
        </div>
        <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-pandas的数据结构"><span class="toc-number">1.</span> <span class="toc-text">1 pandas的数据结构</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-1-Series构造和初始化"><span class="toc-number">1.1.</span> <span class="toc-text">1.1 Series构造和初始化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-使用列表创建Series"><span class="toc-number">1.1.0.1.</span> <span class="toc-text">1. 使用列表创建Series</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-使用字典创建Series"><span class="toc-number">1.1.0.2.</span> <span class="toc-text">2.使用字典创建Series</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-2-DataFrame的构造和初始化"><span class="toc-number">1.2.</span> <span class="toc-text">1.2 DataFrame的构造和初始化</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-使用一个由等长列表或Numpy数组组成的字典创建DataFrame"><span class="toc-number">1.2.0.1.</span> <span class="toc-text">1.使用一个由等长列表或Numpy数组组成的字典创建DataFrame</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-使用一个由Series组成的字典创建DataFrame"><span class="toc-number">1.2.0.2.</span> <span class="toc-text">2.使用一个由Series组成的字典创建DataFrame</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-嵌套字典"><span class="toc-number">1.2.0.3.</span> <span class="toc-text">3.嵌套字典</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-由列表或元组组成的列表"><span class="toc-number">1.2.0.4.</span> <span class="toc-text">4.由列表或元组组成的列表</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-3-索引对象"><span class="toc-number">1.3.</span> <span class="toc-text">1.3 索引对象</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#set-index"><span class="toc-number">1.3.0.1.</span> <span class="toc-text">set_index</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set-index-1"><span class="toc-number">1.3.0.2.</span> <span class="toc-text">set_index</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#set-index-2"><span class="toc-number">1.3.0.3.</span> <span class="toc-text">set_index</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reset-index"><span class="toc-number">1.3.0.4.</span> <span class="toc-text">reset_index</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#reindex"><span class="toc-number">1.3.0.5.</span> <span class="toc-text">reindex</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sort-index"><span class="toc-number">1.3.0.6.</span> <span class="toc-text">sort_index</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#通过索引删除"><span class="toc-number">1.3.0.7.</span> <span class="toc-text">通过索引删除</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#index的方法和属性"><span class="toc-number">1.3.0.8.</span> <span class="toc-text">index的方法和属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#多层索引"><span class="toc-number">1.3.0.9.</span> <span class="toc-text">多层索引</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#多层索引-1"><span class="toc-number">1.3.0.10.</span> <span class="toc-text">多层索引</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#多层索引-2"><span class="toc-number">1.3.0.11.</span> <span class="toc-text">多层索引</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-4-索引取值和切片"><span class="toc-number">1.4.</span> <span class="toc-text">1.4 索引取值和切片</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-1-Series"><span class="toc-number">1.4.0.1.</span> <span class="toc-text">1.4.1 Series</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-2-DateFrame"><span class="toc-number">1.4.0.2.</span> <span class="toc-text">1.4.2 DateFrame</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-2-DateFrame-1"><span class="toc-number">1.4.0.3.</span> <span class="toc-text">1.4.2 DateFrame</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-4-2-DateFrame-2"><span class="toc-number">1.4.0.4.</span> <span class="toc-text">1.4.2 DateFrame</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-5-赋值和数据修改"><span class="toc-number">1.4.0.5.</span> <span class="toc-text">1.5 赋值和数据修改</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#1-6-简单算术运算"><span class="toc-number">1.5.</span> <span class="toc-text">1.6 简单算术运算</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-1-Series"><span class="toc-number">1.5.0.1.</span> <span class="toc-text">1.6.1 Series</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-2-DataFrame"><span class="toc-number">1.5.0.2.</span> <span class="toc-text">1.6.2 DataFrame</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-6-2-DataFrame-1"><span class="toc-number">1.5.0.3.</span> <span class="toc-text">1.6.2 DataFrame</span></a></li></ol></li></ol></li></ol></li></ol>
    </div>
    
    <div class="back-top iconfont-archer">&#xe639;</div>
    <div class="sidebar sidebar-hide">
    <ul class="sidebar-tabs sidebar-tabs-active-0">
        <li class="sidebar-tab-archives"><span class="iconfont-archer">&#xe67d;</span><span class="tab-name">Archive</span></li>
        <li class="sidebar-tab-tags"><span class="iconfont-archer">&#xe61b;</span><span class="tab-name">Tag</span></li>
        <li class="sidebar-tab-categories"><span class="iconfont-archer">&#xe666;</span><span class="tab-name">Cate</span></li>
    </ul>
    <div class="sidebar-content sidebar-content-show-archive">
          <div class="sidebar-panel-archives">
    <!-- 在ejs中将archive按照时间排序 -->
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    <div class="total-archive"> Total : 30 </div>
    
    <div class="post-archive">
    
    
    
    
    <div class="archive-year"> 2018 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/12</span><a class="archive-post-title" href= "/2018/04/12/tensorflow2/" >tensorflow part2</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> Invalid date </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">Invalid date</span><a class="archive-post-title" href= "/2018/04/17/lj/" >[Untitled Post]</a>
        </li>
    
    
    
    
    
        </ul>
    
    <div class="archive-year"> 2018 </div>
    <ul class="year-list">
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/21</span><a class="archive-post-title" href= "/2018/06/21/centos下python3-6安装/" >centos下python3.6安装</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">06/21</span><a class="archive-post-title" href= "/2018/06/21/docker基础/" >docker基础</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/24</span><a class="archive-post-title" href= "/2018/05/24/python中常见的内置函数/" >python中常见的内置函数</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/23</span><a class="archive-post-title" href= "/2018/05/23/python中的-classmethod和-staticmethod/" >python中的@property、@classmethod和@staticmethod</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/20</span><a class="archive-post-title" href= "/2018/05/20/python中的-args、-kwargs/" >python中的*args、**kwargs</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/15</span><a class="archive-post-title" href= "/2018/05/15/特征工程/" >特征工程</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/10</span><a class="archive-post-title" href= "/2018/05/10/pandas的API/" >pandas的API</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/08</span><a class="archive-post-title" href= "/2018/05/08/zookeeper/" >zookeeper</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/07</span><a class="archive-post-title" href= "/2018/05/07/linux中的crontab命令/" >linux中的crontab</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/07</span><a class="archive-post-title" href= "/2018/05/07/linux中的sort、cut、wc命令/" >linux中的sort、cut、wc命令</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span><a class="archive-post-title" href= "/2018/05/06/shell编程基础/" >shell编程基础</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span><a class="archive-post-title" href= "/2018/05/06/linux一些基本软件的安装/" >linux一些基本软件的安装</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/06</span><a class="archive-post-title" href= "/2018/05/06/大数据1：虚拟机配置及基本的linux命令/" >大数据1：虚拟机配置及基本的linux命令</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/05</span><a class="archive-post-title" href= "/2018/05/05/R语言再基础/" >R语言再基础</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/05</span><a class="archive-post-title" href= "/2018/05/05/用Eclipse创建第一个java程序/" >用Eclipse创建第一个java程序</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span><a class="archive-post-title" href= "/2018/05/03/1/" >python数据可视化</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span><a class="archive-post-title" href= "/2018/05/03/seaborn常用图形/" >seaborn常用图形</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">05/03</span><a class="archive-post-title" href= "/2018/05/03/matplotlib常用图形/" >matplotlib常用图形</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/28</span><a class="archive-post-title" href= "/2018/04/28/scrapy/" >scrapy初步</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/28</span><a class="archive-post-title" href= "/2018/04/28/numpy/" >numpy</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/28</span><a class="archive-post-title" href= "/2018/04/28/腾讯漫画/" >腾讯漫画</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/20</span><a class="archive-post-title" href= "/2018/04/20/groupby/" >pandas数据聚合和分组运算</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/15</span><a class="archive-post-title" href= "/2018/04/15/pandas读写和存储/" >pandas读写和存储</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/13</span><a class="archive-post-title" href= "/2018/04/13/pandas1/" >pandas part1</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/12</span><a class="archive-post-title" href= "/2018/04/12/R语言part2/" >R语言part2</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/12</span><a class="archive-post-title" href= "/2018/04/12/R语言part1/" >R语言part1</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">04/07</span><a class="archive-post-title" href= "/2018/04/07/requests/" >requests</a>
        </li>
    
    
        <li class="archive-post-item">
            <span class="archive-post-date">03/29</span><a class="archive-post-title" href= "/2018/03/29/爬虫/" >'爬虫系列2:python中的正则表达式'</a>
        </li>
    
    </div>
  </div>
        <div class="sidebar-panel-tags">
    <div class="sidebar-tags-name">
    
        <span class="sidebar-tag-name" data-tags="python"><span class="iconfont-archer">&#xe606;</span>python</span>
    
        <span class="sidebar-tag-name" data-tags="R语言 数据分析"><span class="iconfont-archer">&#xe606;</span>R语言 数据分析</span>
    
        <span class="sidebar-tag-name" data-tags="docker"><span class="iconfont-archer">&#xe606;</span>docker</span>
    
        <span class="sidebar-tag-name" data-tags="linux"><span class="iconfont-archer">&#xe606;</span>linux</span>
    
        <span class="sidebar-tag-name" data-tags="matplotlib python数据可视化"><span class="iconfont-archer">&#xe606;</span>matplotlib python数据可视化</span>
    
        <span class="sidebar-tag-name" data-tags="爬虫"><span class="iconfont-archer">&#xe606;</span>爬虫</span>
    
        <span class="sidebar-tag-name" data-tags="大数据 linux"><span class="iconfont-archer">&#xe606;</span>大数据 linux</span>
    
        <span class="sidebar-tag-name" data-tags="tensorflow 深度学习"><span class="iconfont-archer">&#xe606;</span>tensorflow 深度学习</span>
    
        <span class="sidebar-tag-name" data-tags="大数据 zookeeper"><span class="iconfont-archer">&#xe606;</span>大数据 zookeeper</span>
    
        <span class="sidebar-tag-name" data-tags="大数据"><span class="iconfont-archer">&#xe606;</span>大数据</span>
    
        <span class="sidebar-tag-name" data-tags="正则表达式"><span class="iconfont-archer">&#xe606;</span>正则表达式</span>
    
        <span class="sidebar-tag-name" data-tags="机器学习"><span class="iconfont-archer">&#xe606;</span>机器学习</span>
    
        <span class="sidebar-tag-name" data-tags="java"><span class="iconfont-archer">&#xe606;</span>java</span>
    
        <span class="sidebar-tag-name" data-tags="python爬虫"><span class="iconfont-archer">&#xe606;</span>python爬虫</span>
    
        <span class="sidebar-tag-name" data-tags="R"><span class="iconfont-archer">&#xe606;</span>R</span>
    
        <span class="sidebar-tag-name" data-tags="python,pandas,数据分析"><span class="iconfont-archer">&#xe606;</span>python,pandas,数据分析</span>
    
    </div>
    <div class="iconfont-archer sidebar-tags-empty">&#xe678;</div>
    <div class="tag-load-fail" style="display: none; color: #ccc; font-size: 0.6rem;">
    缺失模块。<br/>
    1、请确保node版本大于6.2<br/>
    2、在博客根目录（注意不是archer根目录）执行以下命令：<br/>
    <span style="color: #f75357; font-size: 1rem; line-height: 2rem;">npm i hexo-generator-json-content --save</span><br/>
    3、在根目录_config.yml里添加配置：
    <pre style="color: #787878; font-size: 0.6rem;">
jsonContent:
  meta: false
  pages: false
  posts:
    title: true
    date: true
    path: true
    text: false
    raw: false
    content: false
    slug: false
    updated: false
    comments: false
    link: false
    permalink: false
    excerpt: false
    categories: true
    tags: true</pre>
    </div> 
    <div class="sidebar-tags-list"></div>
</div>
        <div class="sidebar-panel-categories">
    <div class="sidebar-categories-name">
    
        <span class="sidebar-category-name" data-categories="R语言"><span class="iconfont-archer">&#xe60a;</span>R语言</span>
    
        <span class="sidebar-category-name" data-categories="python"><span class="iconfont-archer">&#xe60a;</span>python</span>
    
        <span class="sidebar-category-name" data-categories="深度学习"><span class="iconfont-archer">&#xe60a;</span>深度学习</span>
    
        <span class="sidebar-category-name" data-categories="java"><span class="iconfont-archer">&#xe60a;</span>java</span>
    
    </div>
    <div class="iconfont-archer sidebar-categories-empty">&#xe678;</div>
    <div class="sidebar-categories-list"></div>
</div>
    </div>
</div> 
    <script>
    var siteMeta = {
        root: '/',
        author: 'JieZhao'
    }
</script>
    <!-- busuanzi  -->
    
    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    
    <!-- CNZZ  -->
    
    </div>
    <!-- async load share.js -->
    
        <script src="/scripts/share.js" async></script>    
    
    </body>
</html>


